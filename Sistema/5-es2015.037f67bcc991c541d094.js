(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7vJP":function(e,t,i){"use strict";i.r(t),i.d(t,"HomeModule",function(){return Zo});var o=i("fXoL"),a=i("8LU1"),n=i("XNiG"),r=i("quSY"),s=i("0EQZ");let c=0;const l=new o.s("CdkAccordion");let d=(()=>{class e{constructor(){this._stateChanges=new n.a,this._openCloseAllActions=new n.a,this.id="cdk-accordion-"+c++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Object(a.c)(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Mb({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o.Cb([{provide:l,useExisting:e}]),o.Bb]}),e})(),m=0,u=(()=>{class e{constructor(e,t,i){this.accordion=e,this._changeDetectorRef=t,this._expansionDispatcher=i,this._openCloseAllSubscription=r.a.EMPTY,this.closed=new o.o,this.opened=new o.o,this.destroyed=new o.o,this.expandedChange=new o.o,this.id="cdk-accordion-child-"+m++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((e,t)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===t&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Object(a.c)(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(a.c)(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(l,12),o.Rb(o.h),o.Rb(s.d))},e.\u0275dir=o.Mb({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o.Cb([{provide:l,useValue:void 0}])]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({}),e})();var h=i("+rOU"),p=i("ofXK"),g=i("FKr1"),f=i("u47x"),_=i("/uUt"),v=i("JX91"),x=i("pLZG"),O=i("IzEk"),w=i("FtGj"),C=i("R1ws"),M=i("EY2u"),W=i("VRyK"),X=i("R0Ic");const D=["body"];function k(e,t){}const y=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],P=["mat-expansion-panel-header","*","mat-action-row"];function S(e,t){if(1&e&&o.Sb(0,"span",2),2&e){const e=o.lc();o.qc("@indicatorRotate",e._getExpandedState())}}const R=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],I=["mat-panel-title","mat-panel-description","*"],q=new o.s("MAT_ACCORDION"),L={indicatorRotate:Object(X.m)("indicatorRotate",[Object(X.j)("collapsed, void",Object(X.k)({transform:"rotate(0deg)"})),Object(X.j)("expanded",Object(X.k)({transform:"rotate(180deg)"})),Object(X.l)("expanded <=> collapsed, void => collapsed",Object(X.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),bodyExpansion:Object(X.m)("bodyExpansion",[Object(X.j)("collapsed, void",Object(X.k)({height:"0px",visibility:"hidden"})),Object(X.j)("expanded",Object(X.k)({height:"*",visibility:"visible"})),Object(X.l)("expanded <=> collapsed, void => collapsed",Object(X.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let H=(()=>{class e{constructor(e){this._template=e}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(o.O))},e.\u0275dir=o.Mb({type:e,selectors:[["ng-template","matExpansionPanelContent",""]]}),e})(),A=0;const z=new o.s("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let F=(()=>{class e extends u{constructor(e,t,i,a,r,s,c){super(e,t,i),this._viewContainerRef=a,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new o.o,this.afterCollapse=new o.o,this._inputChanges=new n.a,this._headerId="mat-expansion-panel-header-"+A++,this._bodyAnimationDone=new n.a,this.accordion=e,this._document=r,this._bodyAnimationDone.pipe(Object(_.a)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{"void"!==e.fromState&&("expanded"===e.toState?this.afterExpand.emit():"collapsed"===e.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Object(a.c)(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Object(v.a)(null),Object(x.a)(()=>this.expanded&&!this._portal),Object(O.a)(1)).subscribe(()=>{this._portal=new h.f(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,t=this._body.nativeElement;return e===t||t.contains(e)}return!1}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(q,12),o.Rb(o.h),o.Rb(s.d),o.Rb(o.S),o.Rb(p.d),o.Rb(C.a,8),o.Rb(z,8))},e.\u0275cmp=o.Lb({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(e,t,i){if(1&e&&o.Kb(i,H,1),2&e){let e;o.Ac(e=o.ic())&&(t._lazyContent=e.first)}},viewQuery:function(e,t){if(1&e&&o.Tc(D,1),2&e){let e;o.Ac(e=o.ic())&&(t._body=e.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,t){2&e&&o.Jb("mat-expanded",t.expanded)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-expansion-panel-spacing",t._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o.Cb([{provide:q,useValue:void 0}]),o.Ab,o.Bb],ngContentSelectors:P,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,t){1&e&&(o.pc(y),o.oc(0),o.Xb(1,"div",0,1),o.hc("@bodyExpansion.done",function(e){return t._bodyAnimationDone.next(e)}),o.Xb(3,"div",2),o.oc(4,1),o.Mc(5,k,0,0,"ng-template",3),o.Wb(),o.oc(6,2),o.Wb()),2&e&&(o.Db(1),o.qc("@bodyExpansion",t._getExpandedState())("id",t.id),o.Eb("aria-labelledby",t._headerId),o.Db(4),o.qc("cdkPortalOutlet",t._portal))},directives:[h.b],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[L.bodyExpansion]},changeDetection:0}),e})(),j=(()=>{class e{constructor(e,t,i,o,a,n){this.panel=e,this._element=t,this._focusMonitor=i,this._changeDetectorRef=o,this._animationMode=n,this._parentChangeSubscription=r.a.EMPTY;const s=e.accordion?e.accordion._stateChanges.pipe(Object(x.a)(e=>!(!e.hideToggle&&!e.togglePosition))):M.a;this._parentChangeSubscription=Object(W.a)(e.opened,e.closed,s,e._inputChanges.pipe(Object(x.a)(e=>!!(e.hideToggle||e.disabled||e.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Object(x.a)(()=>e._containsFocus())).subscribe(()=>i.focusVia(t,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case w.n:case w.f:Object(w.s)(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,t){e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(F,1),o.Rb(o.l),o.Rb(f.h),o.Rb(o.h),o.Rb(z,8),o.Rb(C.a,8))},e.\u0275cmp=o.Lb({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,t){1&e&&o.hc("click",function(){return t._toggle()})("keydown",function(e){return t._keydown(e)}),2&e&&(o.Eb("id",t.panel._headerId)("tabindex",t.disabled?-1:0)("aria-controls",t._getPanelId())("aria-expanded",t._isExpanded())("aria-disabled",t.panel.disabled),o.Jc("height",t._getHeaderHeight()),o.Jb("mat-expanded",t._isExpanded())("mat-expansion-toggle-indicator-after","after"===t._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===t._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:I,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,t){1&e&&(o.pc(R),o.Xb(0,"span",0),o.oc(1),o.oc(2,1),o.oc(3,2),o.Wb(),o.Mc(4,S,1,1,"span",1)),2&e&&(o.Db(4),o.qc("ngIf",t._showToggle()))},directives:[p.m],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}\n'],encapsulation:2,data:{animation:[L.indicatorRotate]},changeDetection:0}),e})(),E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Mb({type:e,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Mb({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),e})(),U=(()=>{class e extends d{constructor(){super(...arguments),this._ownHeaders=new o.F,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Object(a.c)(e)}ngAfterContentInit(){this._headers.changes.pipe(Object(v.a)(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(e=>e.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new f.g(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return e.\u0275fac=function(t){return B(t||e)},e.\u0275dir=o.Mb({type:e,selectors:[["mat-accordion"]],contentQueries:function(e,t,i){if(1&e&&o.Kb(i,j,1),2&e){let e;o.Ac(e=o.ic())&&(t._headers=e)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,t){2&e&&o.Jb("mat-accordion-multi",t.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[o.Cb([{provide:q,useExisting:e}]),o.Ab]}),e})();const B=o.Zb(U);let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({imports:[[p.c,g.i,b,h.e]]}),e})();var Q=i("Dh3D"),$=i("M9IT"),V=i("+0xr"),Y=i("3Pt+"),G=i("Wp6s"),J=i("QibW"),K=i("d3UM"),Z=i("qFsG"),ee=i("8yBR"),te=i("5+WD"),ie=i("MutI"),oe=i("NFeN"),ae=i("XhcP"),ne=i("bTqV"),re=i("STbY"),se=i("Qu3c"),ce=i("/t3+"),le=i("cH1L");const de=["*"],me=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n";class ue{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(e=>this._trackTile(e))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new be(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class be{constructor(e,t){this.row=e,this.col=t}}const he=new o.s("MAT_GRID_LIST");let pe=(()=>{class e{constructor(e,t){this._element=e,this._gridList=t,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Object(a.f)(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Object(a.f)(e))}_setStyle(e,t){this._element.nativeElement.style[e]=t}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(o.l),o.Rb(he,8))},e.\u0275cmp=o.Lb({type:e,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,t){2&e&&o.Eb("rowspan",t.rowspan)("colspan",t.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:de,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(e,t){1&e&&(o.pc(),o.Xb(0,"figure",0),o.oc(1),o.Wb())},styles:[me],encapsulation:2,changeDetection:0}),e})();const ge=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class fe{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,o){this._gutterSize=we(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=o}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":Oe(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let o=100/this._cols,a=(this._cols-1)/this._cols;this.setColStyles(e,i,o,a),this.setRowStyles(e,t,o,a)}setColStyles(e,t,i,o){let a=this.getBaseTileSize(i,o);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(a,t)),e._setStyle("width",Oe(this.getTileSize(a,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class _e extends fe{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,o){super.init(e,t,i,o),this.fixedRowHeight=we(this.fixedRowHeight),ge.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",Oe(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Oe(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class ve extends fe{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,o){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,o),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",Oe(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Oe(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class xe extends fe{setRowStyles(e,t){let i=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(i,t)),e._setStyle("height",Oe(this.getTileSize(i,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Oe(e){return`calc(${e})`}function we(e){return e.match(/([A-Za-z%]+)$/)?e:`${e}px`}let Ce=(()=>{class e{constructor(e,t){this._element=e,this._dir=t,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Object(a.f)(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const t=`${null==e?"":e}`;t!==this._rowHeight&&(this._rowHeight=t,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new xe:e&&e.indexOf(":")>-1?new ve(e):new _e(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new ue);const e=this._tileCoordinator,t=this._tiles.filter(e=>!e._gridList||e._gridList===this),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,t),this._tileStyler.init(this.gutterSize,e,this.cols,i),t.forEach((t,i)=>{const o=e.positions[i];this._tileStyler.setStyle(t,o.row,o.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(o.l),o.Rb(le.b,8))},e.\u0275cmp=o.Lb({type:e,selectors:[["mat-grid-list"]],contentQueries:function(e,t,i){if(1&e&&o.Kb(i,pe,1),2&e){let e;o.Ac(e=o.ic())&&(t._tiles=e)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,t){2&e&&o.Eb("cols",t.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o.Cb([{provide:he,useExisting:e}])],ngContentSelectors:de,decls:2,vars:0,template:function(e,t){1&e&&(o.pc(),o.Xb(0,"div"),o.oc(1),o.Wb())},styles:[me],encapsulation:2,changeDetection:0}),e})(),Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({imports:[[g.k,g.i],g.k,g.i]}),e})();var We=i("Xa2L"),Xe=i("iadO"),De=i("0MNC"),ke=i("qC+V"),ye=i("PLN7"),Pe=i("1kSV"),Se=i("ZZCA"),Re=i("kmnG");let Ie=(()=>{class e{constructor(e,t,i,a){this.activeModal=e,this.api=t,this.toastrService=i,this.datepipe=a,this.modal_action="Agregar",this.modalHeader="",this.modalmessage="",this.hide=!0,this.hide1=!0,this.document=new o.o,this.form_document=new Y.g({id:new Y.d(""),no:new Y.d(""),titulo:new Y.d(""),fecha:new Y.d(""),procedencia:new Y.d(""),movimiento1:new Y.d(""),movimiento2:new Y.d(""),destruccion:new Y.d(""),expediente:new Y.d(""),observacion:new Y.d("")}),this.src_document="ctc.png",this.src="ctc.png",this.colorEstado="#f00",this.form_document_past=new Y.g({id:new Y.d(""),no:new Y.d(""),titulo:new Y.d(""),fecha:new Y.d(""),procedencia:new Y.d(""),movimiento1:new Y.d(""),movimiento2:new Y.d(""),destruccion:new Y.d(""),expediente:new Y.d(""),observacion:new Y.d("")}),this.disable_register=!0,this.text_visibility="",this.estado=!1,this.estado_past=!1,this.actiModal=this.activeModal}ngOnInit(){"Editar"==this.modal_action&&(this.form_document_past.value.no=this.form_document.value.no,this.form_document_past.value.titulo=this.form_document.value.titulo,this.form_document_past.value.fecha=this.form_document.value.fecha,this.form_document_past.value.procedencia=this.form_document.value.procedencia,this.form_document_past.value.movimiento1=this.form_document.value.movimiento1,this.form_document_past.value.movimiento2=this.form_document.value.movimiento2,this.form_document_past.value.destruccion=this.form_document.value.destruccion,this.form_document_past.value.expediente=this.form_document.value.expediente,this.form_document_past.value.observacion=this.form_document.value.observacion,this.form_document_past.value.imagen=this.form_document.value.imagen,this.estado=this.estado)}ActionDocument(){this.form_document.value.fecha=Object(p.x)(this.form_document.value.fecha,"yyyy-MM-dd","en-US");let e=new FormData;if(console.log("uploadFiles",this.uploadFiles),null!=this.uploadFiles)for(let t=0;t<this.uploadFiles.length;t++)e.append("foto",this.uploadFiles[t],this.uploadFiles[t].name);console.log(this.datepipe.transform(this.form_document.value.fecha,"yyyy-MM-dd")),e.append("id",this.form_document.value.id),e.append("no",this.form_document.value.no),e.append("titulo",this.form_document.value.titulo),e.append("fecha",this.form_document.value.fecha),e.append("procedencia",this.form_document.value.procedencia),e.append("movimiento1",this.form_document.value.movimiento1),e.append("movimiento2",this.form_document.value.movimiento2),e.append("destruccion",this.form_document.value.destruccion),e.append("expediente",this.form_document.value.expediente),e.append("observacion",this.form_document.value.observacion),e.append("imagen",this.form_document.value.imagen),console.log(this.estado),"Agregar"==this.modal_action?this.api.AddDocumentlimit(e).subscribe(e=>{this.activeModal.close(this.form_document.value),this.toastrService.success("El documento se a\xf1adio correctamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")}):this.api.updateDocumentLimit(this.form_document.value.id,e).subscribe(e=>{this.activeModal.close(this.form_document.value),this.toastrService.success("El documento se actualizo correctamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")})}validarCambio(){this.disable_register="Editar"==this.modal_action?!this.validarCambioFormulario():!this.validarCamposVacios()}validarCambioFormulario(){return console.log(this.form_document.value.estado),this.form_document_past.value.titulo!=this.form_document.value.titulo||this.form_document_past.value.fecha!=this.form_document.value.fecha||this.form_document_past.value.no!=this.form_document.value.no||this.src!=this.src_document||this.form_document_past.value.procedencia!=this.form_document.value.procedencia||this.form_document_past.value.movimiento1!=this.form_document.value.movimiento1||this.form_document_past.value.movimiento2!=this.form_document.value.movimiento2||this.form_document_past.value.destruccion!=this.form_document.value.destruccion||this.form_document_past.value.expediente!=this.form_document.value.expediente||this.form_document_past.value.observacion!=this.form_document.value.observacion}validarCamposVacios(){return""!=this.form_document.value.titulo&&""!=this.form_document.value.fecha&&""!=this.form_document.value.procedencia&&""!=this.form_document.value.movimiento1&&""!=this.form_document.value.movimiento2&&""!=this.form_document.value.destruccion&&""!=this.form_document.value.expediente&&""!=this.form_document.value.observacion&&""!=this.form_document.value.no&&(""!=this.src_document||this.src_document!=this.src)}fileEvent(e){let t=e.target.files[0];this.uploadFiles=e.target.files;const i=new FileReader;i.onload=()=>{this.src_document=i.result},i.readAsDataURL(t)}onChangeSelectFilter(){}changeImage(){document.getElementById("imagefile").click()}deleteImage(){this.src_document=void 0}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.a),o.Rb(ye.a),o.Rb(Se.b),o.Rb(p.e))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-modal-document"]],outputs:{document:"document"},decls:101,vars:17,consts:[[1,"modal-content","bg-darkest",2,"border","0px"],[1,"modal-header","bg-warn"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"padding-top","5px"],[3,"formGroup"],[1,"contenedor"],[1,"img-thumbnail","rounded",2,"width","100%","height","150px",3,"src","click"],["id","src-file1",1,"file-select",2,"cursor","pointer",3,"hidden"],["id","imagefile","type","file","name","src-file1","aria-label","Imagen","accept","image/*",2,"cursor","pointer",3,"change"],["appearance","outline","color","warn"],["matInput","","maxlength","20","placeholder","No.","formControlName","no","name","no","required","",3,"ngModelChange"],["no",""],["matSuffix",""],["align","end",2,"color","white"],["matInput","","formControlName","fecha","name","fecha",3,"matDatepicker"],["matSuffix","",2,"color","white",3,"for"],["datepicker",""],["mat-button","","matDatepickerCancel",""],["mat-raised-button","","color","primary","matDatepickerApply",""],["matInput","","maxlength","20","placeholder","Titulo","formControlName","titulo","name","titulo","required","",3,"ngModelChange"],["titulo",""],["matInput","","maxlength","20","placeholder","Procedencia","formControlName","procedencia","name","procedencia","required","",3,"ngModelChange"],["procedencia",""],["matInput","","maxlength","20","placeholder","movimiento1","formControlName","movimiento1","name","movimiento1","required","",3,"ngModelChange"],["movimiento1",""],["matInput","","maxlength","20","placeholder","Movimiento2","formControlName","movimiento2","name","movimiento2","required","",3,"ngModelChange"],["movimiento2",""],["matInput","","maxlength","20","placeholder","Destruccion","formControlName","destruccion","name","destruccion","required","",3,"ngModelChange"],["destruccion",""],["matInput","","maxlength","20","placeholder","Expediente","formControlName","expediente","name","expediente","required","",3,"ngModelChange"],["expediente",""],["matInput","","maxlength","20","placeholder","Observaci\xf3n","formControlName","observacion","name","observacion","required","",3,"ngModelChange"],["observacion",""],[1,"modal-footer"],["mat-raised-button","","color","warn","flex","","data-dismiss","modal",3,"disabled","click"]],template:function(e,t){if(1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"h2",2),o.Oc(3),o.Wb(),o.Xb(4,"button",3),o.hc("click",function(){return t.actiModal.close()}),o.Xb(5,"span",4),o.Oc(6,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"form",6),o.Xb(9,"div",7),o.Xb(10,"img",8),o.hc("click",function(){return t.changeImage()}),o.Wb(),o.Xb(11,"div",9),o.Xb(12,"input",10),o.hc("change",function(e){return t.fileEvent(e)}),o.Wb(),o.Wb(),o.Xb(13,"div"),o.Xb(14,"mat-form-field",11),o.Xb(15,"mat-label"),o.Oc(16,"No."),o.Wb(),o.Xb(17,"input",12,13),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(19,"mat-icon",14),o.Oc(20,"title"),o.Wb(),o.Xb(21,"mat-hint",15),o.Oc(22),o.Wb(),o.Wb(),o.Xb(23,"mat-form-field",11),o.Xb(24,"mat-label"),o.Oc(25,"Fecha"),o.Wb(),o.Sb(26,"input",16),o.Sb(27,"mat-datepicker-toggle",17),o.Xb(28,"mat-datepicker",null,18),o.Xb(30,"mat-datepicker-actions"),o.Xb(31,"button",19),o.Oc(32,"Cancelar"),o.Wb(),o.Xb(33,"button",20),o.Oc(34,"Aplicar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(35,"mat-form-field",11),o.Xb(36,"mat-label"),o.Oc(37,"Titulo"),o.Wb(),o.Xb(38,"input",21,22),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(40,"mat-icon",14),o.Oc(41,"title"),o.Wb(),o.Xb(42,"mat-hint",15),o.Oc(43),o.Wb(),o.Wb(),o.Xb(44,"mat-form-field",11),o.Xb(45,"mat-label"),o.Oc(46,"Procedencia"),o.Wb(),o.Xb(47,"input",23,24),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(49,"mat-icon",14),o.Oc(50,"title"),o.Wb(),o.Xb(51,"mat-hint",15),o.Oc(52),o.Wb(),o.Wb(),o.Xb(53,"mat-form-field",11),o.Xb(54,"mat-label"),o.Oc(55,"Movimiento1"),o.Wb(),o.Xb(56,"input",25,26),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(58,"mat-icon",14),o.Oc(59,"title"),o.Wb(),o.Xb(60,"mat-hint",15),o.Oc(61),o.Wb(),o.Wb(),o.Xb(62,"mat-form-field",11),o.Xb(63,"mat-label"),o.Oc(64,"Movimiento2"),o.Wb(),o.Xb(65,"input",27,28),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(67,"mat-icon",14),o.Oc(68,"title"),o.Wb(),o.Xb(69,"mat-hint",15),o.Oc(70),o.Wb(),o.Wb(),o.Xb(71,"mat-form-field",11),o.Xb(72,"mat-label"),o.Oc(73,"Destruccion"),o.Wb(),o.Xb(74,"input",29,30),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(76,"mat-icon",14),o.Oc(77,"title"),o.Wb(),o.Xb(78,"mat-hint",15),o.Oc(79),o.Wb(),o.Wb(),o.Xb(80,"mat-form-field",11),o.Xb(81,"mat-label"),o.Oc(82,"Expediente"),o.Wb(),o.Xb(83,"input",31,32),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(85,"mat-icon",14),o.Oc(86,"title"),o.Wb(),o.Xb(87,"mat-hint",15),o.Oc(88),o.Wb(),o.Wb(),o.Xb(89,"mat-form-field",11),o.Xb(90,"mat-label"),o.Oc(91,"Observaci\xf3n"),o.Wb(),o.Xb(92,"input",33,34),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(94,"mat-icon",14),o.Oc(95,"title"),o.Wb(),o.Xb(96,"mat-hint",15),o.Oc(97),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(98,"div",35),o.Xb(99,"button",36),o.hc("click",function(){return t.ActionDocument()}),o.Oc(100),o.Wb(),o.Wb(),o.Wb()),2&e){const e=o.Bc(18),i=o.Bc(29),a=o.Bc(39),n=o.Bc(48),r=o.Bc(57),s=o.Bc(66),c=o.Bc(75),l=o.Bc(84),d=o.Bc(93);o.Db(3),o.Rc("",t.modal_action," ",t.modalHeader,""),o.Db(5),o.qc("formGroup",t.form_document),o.Db(2),o.qc("src",t.src_document,o.Hc),o.Db(1),o.qc("hidden",!0),o.Db(11),o.Qc("",e.value.length," / 20"),o.Db(4),o.qc("matDatepicker",i),o.Db(1),o.qc("for",i),o.Db(16),o.Qc("",a.value.length," / 20"),o.Db(9),o.Qc("",n.value.length," / 20"),o.Db(9),o.Qc("",r.value.length," / 20"),o.Db(9),o.Qc("",s.value.length," / 20"),o.Db(9),o.Qc("",c.value.length," / 20"),o.Db(9),o.Qc("",l.value.length," / 20"),o.Db(9),o.Qc("",d.value.length," / 20"),o.Db(2),o.qc("disabled",t.disable_register),o.Db(1),o.Qc("",t.modal_action," documento")}},directives:[Y.x,Y.o,Y.h,Re.b,Re.f,Z.b,Y.c,Y.j,Y.n,Y.f,Y.u,oe.a,Re.g,Re.e,Xe.e,Xe.g,Xe.a,Xe.b,ne.a,Xe.d,Xe.c],styles:['.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.contenedor-image[_ngcontent-%COMP%]{display:block;flex-direction:row;margin:0;max-height:400px}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select[_ngcontent-%COMP%]:before{background-color:#f44336;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;left:0;right:0;top:0;bottom:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Seleccionar Imagen"}.image[_ngcontent-%COMP%]{float:none;position:relative}.icon-visibility[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.icon[_ngcontent-%COMP%]{font-size:40px;cursor:pointer}']}),e})();var qe=i("bSwM");let Le=(()=>{class e{constructor(e,t,i){this.activeModal=e,this.api=t,this.toastrService=i,this.modal_action="Agregar",this.modalHeader="",this.modalmessage="",this.hide=!0,this.hide1=!0,this.user=new o.o,this.permisos={is_all:!1,is_edit:!1,is_create:!1,is_delete:!1,is_read:!1},this.permisos_old={is_all:!1,is_edit:!1,is_create:!1,is_delete:!1,is_read:!1},this.rol_name="root",this.rol_id=-1,this.disable_register=!1,this.actiModal=this.activeModal}ngOnInit(){this.api.getPermisosRol(this.rol_id).subscribe(e=>{this.permisos.is_all=1==e[0].is_all,this.permisos.is_create=1==e[0].is_create,this.permisos.is_edit=1==e[0].is_edit,this.permisos.is_delete=1==e[0].is_delete,this.permisos.is_read=1==e[0].is_read}),console.log(this.permisos),"Editar"==this.modal_action&&(this.permisos_old.is_all=this.permisos.is_all,this.permisos_old.is_edit=this.permisos.is_edit,this.permisos_old.is_create=this.permisos.is_create,this.permisos_old.is_delete=this.permisos.is_delete,this.permisos_old.is_read=this.permisos.is_read)}ActionRol(){"Asignar"==this.modal_action?this.api.AddPermisos(this.permisos,this.rol_id).subscribe(e=>{this.activeModal.close(this.permisos),this.toastrService.success("Permisos asignados correctamente al rol "+this.rol_name,"Mensaje")},e=>{this.toastrService.error("Ocurrio un error al asignar los permisos "+e.error.message,"Error")}):this.api.UpdatePermisos(this.permisos,this.rol_id).subscribe(e=>{this.activeModal.close(this.permisos),this.toastrService.success("Permisos actualizados correctamente al rol "+this.rol_name,"Mensaje")},e=>{this.toastrService.error("Ocurrio un error al actualizar los permisos "+e.error.message,"Error")})}validarCambio(){this.disable_register="Editar"==this.modal_action?!this.validarCambioFormulario():!this.validarCamposVacios(),console.log(!this.validarCamposVacios())}validarCambioFormulario(){return this.permisos_old.is_all!=this.permisos.is_all||this.permisos_old.is_edit!=this.permisos.is_edit||this.permisos_old.is_create!=this.permisos.is_create||this.permisos_old.is_delete!=this.permisos.is_delete||this.permisos_old.is_read!=this.permisos.is_read}validarCamposVacios(){return!0}onChangeSelectFilter(){}allComplete(){this.permisos.is_edit=this.permisos.is_all,this.permisos.is_create=this.permisos.is_all,this.permisos.is_delete=this.permisos.is_all,this.permisos.is_read=this.permisos.is_all}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.a),o.Rb(ye.a),o.Rb(Se.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-modal-permisos"]],outputs:{user:"user"},decls:32,vars:11,consts:[[1,"modal-content","bg-darkest",2,"border","0px"],[1,"modal-header","bg-warn"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"contenedor"],["appearance","outline","color","warn"],["matInput","","maxlength","20","readonly","","placeholder","Nombre del rol","name","rol","required","",3,"ngModel","ngModelChange"],["rol",""],["matSuffix",""],["name","is_all","color","warn",1,"example-margin",3,"ngModel","ngModelChange"],["name","is_edit","color","warn",1,"example-margin",3,"ngModel","ngModelChange"],["name","is_create","color","warn",1,"example-margin",3,"ngModel","ngModelChange"],["name","is_delete","color","warn",1,"example-margin",3,"ngModel","ngModelChange"],["name","is_read","color","warn",1,"example-margin",3,"ngModel","ngModelChange"],[1,"modal-footer"],["mat-raised-button","","color","warn","flex","","data-dismiss","modal",3,"disabled","click"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"h2",2),o.Oc(3),o.Wb(),o.Xb(4,"button",3),o.hc("click",function(){return t.actiModal.close()}),o.Xb(5,"span",4),o.Oc(6,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"p"),o.Oc(9),o.Wb(),o.Xb(10,"form"),o.Xb(11,"div",6),o.Xb(12,"mat-form-field",7),o.Xb(13,"mat-label"),o.Oc(14,"Nombre del rol"),o.Wb(),o.Xb(15,"input",8,9),o.hc("ngModelChange",function(e){return t.rol_name=e})("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(17,"mat-icon",10),o.Oc(18,"account_box"),o.Wb(),o.Wb(),o.Xb(19,"mat-checkbox",11),o.hc("ngModelChange",function(e){return t.permisos.is_all=e})("ngModelChange",function(){return t.allComplete()}),o.Oc(20,"Permiso de todo"),o.Wb(),o.Xb(21,"mat-checkbox",12),o.hc("ngModelChange",function(e){return t.permisos.is_edit=e}),o.Oc(22,"Permiso de editar"),o.Wb(),o.Xb(23,"mat-checkbox",13),o.hc("ngModelChange",function(e){return t.permisos.is_create=e}),o.Oc(24,"Permiso de crear"),o.Wb(),o.Xb(25,"mat-checkbox",14),o.hc("ngModelChange",function(e){return t.permisos.is_delete=e}),o.Oc(26,"Permiso de borrar"),o.Wb(),o.Xb(27,"mat-checkbox",15),o.hc("ngModelChange",function(e){return t.permisos.is_read=e}),o.Oc(28,"Permiso de leer"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(29,"div",16),o.Xb(30,"button",17),o.hc("click",function(){return t.ActionRol()}),o.Oc(31),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Db(3),o.Rc("",t.modal_action," ",t.modalHeader,""),o.Db(6),o.Pc(t.modalmessage),o.Db(6),o.qc("ngModel",t.rol_name),o.Db(4),o.qc("ngModel",t.permisos.is_all),o.Db(2),o.qc("ngModel",t.permisos.is_edit),o.Db(2),o.qc("ngModel",t.permisos.is_create),o.Db(2),o.qc("ngModel",t.permisos.is_delete),o.Db(2),o.qc("ngModel",t.permisos.is_read),o.Db(3),o.qc("disabled",t.disable_register),o.Db(1),o.Qc("",t.modal_action," permiso"))},directives:[Y.x,Y.o,Y.p,Re.b,Re.f,Z.b,Y.c,Y.j,Y.u,Y.n,Y.q,oe.a,Re.g,qe.a,ne.a],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}"]}),e})(),He=(()=>{class e{constructor(e,t,i){this.activeModal=e,this.api=t,this.toastrService=i,this.modal_action="Agregar",this.modalHeader="",this.modalmessage="",this.hide=!0,this.hide1=!0,this.user=new o.o,this.rol={id:null,rol_name:"",description:""},this.rol_past={id:null,rol_name:"",description:""},this.id=null,this.disable_register=!0,this.rol_name="",this.description_model="",this.rol_name_old="",this.description_old="",this.actiModal=this.activeModal}ngOnInit(){"Editar"==this.modal_action&&(this.rol_name_old=this.rol_name,this.description_old=this.description_model)}ActionRol(){this.rol.id=this.id,this.rol.rol_name=this.rol_name,this.rol.description=this.description_model,"Agregar"==this.modal_action?this.api.AddRol(this.rol).subscribe(e=>{this.activeModal.close(this.rol),this.toastrService.success("Rol creado satisfactoriamente "+this.rol_name,"Mensaje")},e=>{this.toastrService.error("Ocurrio un error al crear el rol: "+e.error.message,"Error")}):this.api.UpdateRol(this.rol).subscribe(e=>{this.activeModal.close(this.rol),this.toastrService.success("Rol actualizado satisfactoriamente "+this.rol_name,"Mensaje")},e=>{this.toastrService.error("Ocurrio un error al actualizar el rol: "+e.error.message,"Error")})}validarCambio(){this.disable_register="Editar"==this.modal_action?!this.validarCambioFormulario():!this.validarCamposVacios(),console.log(!this.validarCamposVacios())}validarCambioFormulario(){return this.rol_name_old!=this.rol_name||this.description_old!=this.description_model}validarCamposVacios(){return console.log("rol_name ",this.rol_name),console.log("description ",this.description_model),""!=this.rol_name&&""!=this.description_model}onChangeSelectFilter(){}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.a),o.Rb(ye.a),o.Rb(Se.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-modal-rol"]],outputs:{user:"user"},decls:33,vars:9,consts:[[1,"modal-content","bg-darkest",2,"border","0px"],[1,"modal-header","bg-warn"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"contenedor"],["appearance","outline","color","warn"],["matInput","","maxlength","20","placeholder","Nombre del rol","name","rol","required","",3,"ngModel","ngModelChange"],["rol",""],["matSuffix",""],["align","end",2,"color","white"],["matInput","","maxlength","100","placeholder","Descripcion","name","description","required","",3,"ngModel","ngModelChange"],["description",""],[1,"modal-footer"],["mat-raised-button","","color","warn","flex","","data-dismiss","modal",3,"disabled","click"]],template:function(e,t){if(1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"h2",2),o.Oc(3),o.Wb(),o.Xb(4,"button",3),o.hc("click",function(){return t.actiModal.close()}),o.Xb(5,"span",4),o.Oc(6,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"p"),o.Oc(9),o.Wb(),o.Xb(10,"form"),o.Xb(11,"div",6),o.Xb(12,"mat-form-field",7),o.Xb(13,"mat-label"),o.Oc(14,"Nombre del rol"),o.Wb(),o.Xb(15,"input",8,9),o.hc("ngModelChange",function(e){return t.rol_name=e})("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(17,"mat-icon",10),o.Oc(18,"account_box"),o.Wb(),o.Xb(19,"mat-hint",11),o.Oc(20),o.Wb(),o.Wb(),o.Xb(21,"mat-form-field",7),o.Xb(22,"mat-label"),o.Oc(23,"Descripcion"),o.Wb(),o.Xb(24,"input",12,13),o.hc("ngModelChange",function(e){return t.description_model=e})("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(26,"mat-icon",10),o.Oc(27,"description"),o.Wb(),o.Xb(28,"mat-hint",11),o.Oc(29),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(30,"div",14),o.Xb(31,"button",15),o.hc("click",function(){return t.ActionRol()}),o.Oc(32),o.Wb(),o.Wb(),o.Wb()),2&e){const e=o.Bc(16),i=o.Bc(25);o.Db(3),o.Rc("",t.modal_action," ",t.modalHeader,""),o.Db(6),o.Pc(t.modalmessage),o.Db(6),o.qc("ngModel",t.rol_name),o.Db(5),o.Qc("",e.value.length," / 20"),o.Db(4),o.qc("ngModel",t.description_model),o.Db(5),o.Qc("",i.value.length," / 100"),o.Db(2),o.qc("disabled",t.disable_register),o.Db(1),o.Qc("",t.modal_action," rol")}},directives:[Y.x,Y.o,Y.p,Re.b,Re.f,Z.b,Y.c,Y.j,Y.u,Y.n,Y.q,oe.a,Re.g,Re.e,ne.a],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}"]}),e})();function Ae(e,t){1&e&&(o.Xb(0,"mat-hint",35),o.Oc(1,"las contrase\xf1as no coinciden"),o.Wb())}function ze(e,t){if(1&e&&(o.Xb(0,"span",36),o.Oc(1),o.Wb()),2&e){const e=o.lc();o.Db(1),o.Rc(" (+",e.form_user.value.rol_usuario.length-1," ",2===(null==e.form_user.value.rol_usuario?null:e.form_user.value.rol_usuario.length)?"other":"others",") ")}}function Fe(e,t){if(1&e&&(o.Xb(0,"mat-option",37),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.qc("value",e),o.Db(1),o.Pc(e.rol_name)}}let je=(()=>{class e{constructor(e,t,i){this.activeModal=e,this.api=t,this.toastrService=i,this.modal_action="Agregar",this.modalHeader="",this.modalmessage="",this.hide=!0,this.hide1=!0,this.user=new o.o,this.form_user=new Y.g({id:new Y.d(""),user:new Y.d(""),password:new Y.d(""),full_name:new Y.d(""),register_date:new Y.d(""),register_hour:new Y.d(""),avatar:new Y.d(""),rol_usuario:new Y.d(""),confirm:new Y.d("")}),this.src_avatar="./../../.././../ctc.png",this.colorEstado="#f00",this.form_user_past=new Y.g({id:new Y.d(""),user:new Y.d(""),password:new Y.d(""),full_name:new Y.d(""),register_date:new Y.d(""),register_hour:new Y.d(""),avatar:new Y.d(""),rol_usuario:new Y.d("")}),this.valid=!1,this.disable_register=!0,this.actiModal=this.activeModal}ngOnInit(){console.log(this.roles2),"Editar"==this.modal_action&&(this.form_user.value.confirm=this.form_user.value.password,this.form_user_past.value.user=this.form_user.value.user,this.form_user_past.value.password=this.form_user.value.password,this.form_user_past.value.full_name=this.form_user.value.full_name,this.roles2.forEach(e=>{this.form_user.value.rol_usuario.push(e)}),this.api.getAvatarUser(this.form_user.value.id).subscribe(e=>{this.src_avatar=e+""},e=>{this.src_avatar=e.url})),this.api.ObtenerRoles().subscribe(e=>{this.roles=e})}ActionUsuario(){if("Agregar"==this.modal_action){var e=new Date;this.form_user.value.register_date=Object(p.x)(e,"dd - MM - yyyy","en-US"),this.form_user.value.register_hour=Object(p.x)(e,"HH:mm aa","en-Us");let t=new FormData;if(console.log("uploadFiles",this.uploadFiles),null!=this.uploadFiles)for(let e=0;e<this.uploadFiles.length;e++)t.append("avatar",this.uploadFiles[e],this.uploadFiles[e].name);t.append("id",this.form_user.value.id),t.append("user",this.form_user.value.user),t.append("password",this.form_user.value.password),t.append("full_name",this.form_user.value.full_name),t.append("register_date",this.form_user.value.register_date),t.append("register_hour",this.form_user.value.register_hour),t.append("roles",JSON.stringify(this.form_user.value.rol_usuario)),this.api.AddUsuario(t).subscribe(e=>{this.toastrService.success("Se agrego correctamente el usuario","Mensaje"),this.activeModal.close(this.form_user.value)},e=>{this.toastrService.error(e.error.message,"Error")})}else{let e=new FormData;if(null!=this.uploadFiles)for(let t=0;t<this.uploadFiles.length;t++)e.append("avatar",this.uploadFiles[t],this.uploadFiles[t].name);e.append("id",this.form_user.value.id),e.append("user",this.form_user.value.user),e.append("password",this.form_user.value.password),e.append("full_name",this.form_user.value.full_name),e.append("register_date",this.form_user.value.register_date),e.append("register_hour",this.form_user.value.register_hour),e.append("roles",JSON.stringify(this.form_user.value.rol_usuario)),this.api.deleteAvatarUser(this.form_user.value.id).subscribe(t=>{this.api.UpdateUsuario(e,this.form_user.value.id).subscribe(e=>{this.toastrService.success("Se agrego correctamente el usuario","Mensaje"),this.activeModal.close(this.form_user.value)},e=>{this.toastrService.error(e.error.message,"Error")})})}}validarCambio(){"Editar"==this.modal_action?(this.disable_register=!this.validarCambioFormulario(),this.valid=!this.validarConfirmacion()):(this.disable_register=!this.validarCamposVacios(),this.valid=!this.validarConfirmacion())}validarCambioFormulario(){return(this.form_user_past.value.user!=this.form_user.value.user||this.form_user_past.value.password!=this.form_user.value.password||this.form_user_past.value.full_name!=this.form_user.value.full_name||this.form_user_past.value.register_date!=this.form_user.value.register_date||this.form_user.value.rol_usuario!=this.rol_usuario_old)&&this.form_user.value.password==this.form_user.value.confirm}validarCamposVacios(){return""!=this.form_user.value.user&&""!=this.form_user.value.password&&""!=this.form_user.value.full_name&&this.validarConfirmacion()}validarConfirmacion(){return this.form_user.value.password==this.form_user.value.confirm}fileEvent(e){let t=e.target.files[0];this.uploadFiles=e.target.files;const i=new FileReader;i.onload=()=>{this.src_avatar=i.result},i.readAsDataURL(t)}onChangeSelectFilter(){}changeImage(){document.getElementById("imagefile").click()}deleteImage(){this.src_avatar=void 0}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.a),o.Rb(ye.a),o.Rb(Se.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-modal-usuario"]],outputs:{user:"user"},decls:69,vars:20,consts:[[1,"modal-content","bg-darkest",2,"border","0px"],[1,"modal-header","bg-warn"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"full-container"],[1,"contenedor-image"],[1,"image"],["mat-card-image","",1,"img-thumbnail","rounded",2,"width","150px","height","150px","margin-left","25px","margin-top","15px",3,"src","click"],["mat-mini-fab","","color","warn",2,"vertical-align","top",3,"click"],["id","src-file1",1,"file-select",2,"cursor","pointer",3,"hidden"],["id","imagefile","type","file","name","src-file1","aria-label","Imagen","accept","image/*",2,"cursor","pointer",3,"change"],[1,"contenedor"],["appearance","outline","color","warn"],["matInput","","maxlength","20","placeholder","Usuario","formControlName","user","name","user","required","",3,"ngModelChange"],["user",""],["matSuffix",""],["align","end",2,"color","white"],["matInput","","maxlength","20","placeholder","Password","formControlName","password","name","password","required","",3,"type","ngModelChange"],["password",""],["matSuffix","","type","button",3,"click"],["matInput","","maxlength","20","placeholder","Password","formControlName","confirm","name","confirm","required","",3,"type","ngModelChange"],["confirma",""],["style","color: #ff5722;",4,"ngIf"],["matInput","","maxlength","50","placeholder","Nombre completo","formControlName","full_name","name","full_name","required","",3,"ngModelChange"],["full_name",""],[2,"color","white"],["formControlName","rol_usuario","name","roles","multiple","",3,"selectionChange"],[2,"color","white","font-size","11px"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["mat-raised-button","","color","warn","flex","","data-dismiss","modal",3,"disabled","click"],[2,"color","#ff5722"],[1,"example-additional-selection"],[3,"value"]],template:function(e,t){if(1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"h2",2),o.Oc(3),o.Wb(),o.Xb(4,"button",3),o.hc("click",function(){return t.actiModal.close()}),o.Xb(5,"span",4),o.Oc(6,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"p"),o.Oc(9),o.Wb(),o.Xb(10,"form",6),o.Xb(11,"div",7),o.Xb(12,"div",8),o.Xb(13,"div",9),o.Xb(14,"img",10),o.hc("click",function(){return t.changeImage()}),o.Wb(),o.Xb(15,"button",11),o.hc("click",function(){return t.deleteImage()}),o.Xb(16,"mat-icon"),o.Oc(17,"close"),o.Wb(),o.Wb(),o.Wb(),o.Xb(18,"div",12),o.Xb(19,"input",13),o.hc("change",function(e){return t.fileEvent(e)}),o.Wb(),o.Wb(),o.Wb(),o.Xb(20,"div",14),o.Xb(21,"mat-form-field",15),o.Xb(22,"mat-label"),o.Oc(23,"Usuario"),o.Wb(),o.Xb(24,"input",16,17),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(26,"mat-icon",18),o.Oc(27,"person"),o.Wb(),o.Xb(28,"mat-hint",19),o.Oc(29),o.Wb(),o.Wb(),o.Xb(30,"mat-form-field",15),o.Xb(31,"mat-label"),o.Oc(32,"Contrase\xf1a"),o.Wb(),o.Xb(33,"input",20,21),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(35,"mat-icon",22),o.hc("click",function(){return t.hide1=!t.hide1}),o.Oc(36),o.Wb(),o.Xb(37,"mat-hint",19),o.Oc(38),o.Wb(),o.Wb(),o.Xb(39,"mat-form-field",15),o.Xb(40,"mat-label"),o.Oc(41,"confirmacion"),o.Wb(),o.Xb(42,"input",23,24),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(44,"mat-icon",22),o.hc("click",function(){return t.hide=!t.hide}),o.Oc(45),o.Wb(),o.Xb(46,"mat-hint",19),o.Oc(47),o.Wb(),o.Mc(48,Ae,2,0,"mat-hint",25),o.Wb(),o.Xb(49,"mat-form-field",15),o.Xb(50,"mat-label"),o.Oc(51,"Nombre completo"),o.Wb(),o.Xb(52,"input",26,27),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(54,"mat-icon",18),o.Oc(55,"text_fields"),o.Wb(),o.Xb(56,"mat-hint",19),o.Oc(57),o.Wb(),o.Wb(),o.Xb(58,"mat-form-field",15),o.Xb(59,"mat-label",28),o.Oc(60,"Asignar rol(es) al usuario"),o.Wb(),o.Xb(61,"mat-select",29),o.hc("selectionChange",function(){return t.validarCambio()}),o.Xb(62,"mat-select-trigger",30),o.Oc(63),o.Mc(64,ze,2,2,"span",31),o.Wb(),o.Mc(65,Fe,2,2,"mat-option",32),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(66,"div",33),o.Xb(67,"button",34),o.hc("click",function(){return t.ActionUsuario()}),o.Oc(68),o.Wb(),o.Wb(),o.Wb()),2&e){const e=o.Bc(25),i=o.Bc(34),a=o.Bc(43),n=o.Bc(53);o.Db(3),o.Rc("",t.modal_action," ",t.modalHeader,""),o.Db(6),o.Pc(t.modalmessage),o.Db(1),o.qc("formGroup",t.form_user),o.Db(4),o.qc("src",t.src_avatar,o.Hc),o.Db(4),o.qc("hidden",!0),o.Db(11),o.Qc("",e.value.length," / 20"),o.Db(4),o.qc("type",t.hide1?"password":"text"),o.Db(3),o.Pc(t.hide1?"visibility_off":"visibility"),o.Db(2),o.Qc("",i.value.length," / 20"),o.Db(4),o.qc("type",t.hide?"password":"text"),o.Db(3),o.Pc(t.hide?"visibility_off":"visibility"),o.Db(2),o.Qc("",a.value.length," / 20"),o.Db(1),o.qc("ngIf",t.valid),o.Db(9),o.Qc("",n.value.length," / 50"),o.Db(6),o.Qc(" ",t.form_user.value.rol_usuario?t.form_user.value.rol_usuario[0].rol_name:""," "),o.Db(1),o.qc("ngIf",(null==t.form_user.value.rol_usuario?null:t.form_user.value.rol_usuario.length)>1),o.Db(1),o.qc("ngForOf",t.roles),o.Db(2),o.qc("disabled",t.disable_register),o.Db(1),o.Qc("",t.modal_action," usuario")}},directives:[Y.x,Y.o,Y.h,G.f,ne.a,oe.a,Re.b,Re.f,Z.b,Y.c,Y.j,Y.n,Y.f,Y.u,Re.g,Re.e,p.m,K.a,K.c,p.l,g.m],styles:['.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.full-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.contenedor-image[_ngcontent-%COMP%]{display:block;flex-direction:row;margin:0;max-height:400px;max-width:200px}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select[_ngcontent-%COMP%]:before{background-color:#f44336;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;left:0;right:0;top:0;bottom:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Seleccionar Imagen"}.image[_ngcontent-%COMP%]{float:none;position:relative}']}),e})(),Ee=(()=>{class e{constructor(e,t,i,a){this.activeModal=e,this.api=t,this.toastrService=i,this.datepipe=a,this.modal_action="Agregar",this.modalHeader="",this.modalmessage="",this.hide=!0,this.hide1=!0,this.document=new o.o,this.form_document=new Y.g({id:new Y.d(""),no:new Y.d(""),lugar:new Y.d(""),reg_no:new Y.d(""),titulo:new Y.d(""),categoria:new Y.d(""),mat_no:new Y.d(""),folio_no:new Y.d(""),cant:new Y.d(""),no_ejemplar:new Y.d(""),cant_hojas:new Y.d(""),destruccion:new Y.d(""),destino:new Y.d(""),comp:new Y.d(""),imagen:new Y.d("")}),this.src_document="ctc.png",this.src="ctc.png",this.colorEstado="#f00",this.form_document_past=new Y.g({id:new Y.d(""),no:new Y.d(""),lugar:new Y.d(""),reg_no:new Y.d(""),titulo:new Y.d(""),categoria:new Y.d(""),mat_no:new Y.d(""),folio_no:new Y.d(""),cant:new Y.d(""),no_ejemplar:new Y.d(""),cant_hojas:new Y.d(""),destruccion:new Y.d(""),destino:new Y.d(""),comp:new Y.d(""),imagen:new Y.d("")}),this.disable_register=!0,this.text_visibility="",this.estado=!1,this.estado_past=!1,this.actiModal=this.activeModal}ngOnInit(){"Editar"==this.modal_action&&(this.form_document_past.value.no=this.form_document.value.no,this.form_document_past.value.lugar=this.form_document.value.lugar,this.form_document_past.value.reg_no=this.form_document.value.reg_no,this.form_document_past.value.titulo=this.form_document.value.titulo,this.form_document_past.value.categoria=this.form_document.value.categoria,this.form_document_past.value.mat_no=this.form_document.value.mat_no,this.form_document_past.value.folio_no=this.form_document.value.folio_no,this.form_document_past.value.cant=this.form_document.value.cant,this.form_document_past.value.no_ejemplar=this.form_document.value.no_ejemplar,this.form_document_past.value.cant_hojas=this.form_document.value.cant_hojas,this.form_document_past.value.destruccion=this.form_document.value.destruccion,this.form_document_past.value.destino=this.form_document.value.destino,this.form_document_past.value.comp=this.form_document.value.comp,this.form_document_past.value.imagen=this.form_document.value.imagen,console.log(this.form_document.value.destruccion))}ActionDocument(){let e=new FormData;if(console.log("uploadFiles",this.uploadFiles),null!=this.uploadFiles)for(let t=0;t<this.uploadFiles.length;t++)e.append("foto",this.uploadFiles[t],this.uploadFiles[t].name);console.log(this.datepipe.transform(this.form_document.value.fecha,"yyyy-MM-dd")),e.append("id",this.form_document.value.id),e.append("no",this.form_document.value.no),e.append("lugar",this.form_document.value.lugar),e.append("reg_no",this.form_document.value.reg_no),e.append("titulo",this.form_document.value.titulo),e.append("categoria",this.form_document.value.categoria),e.append("mat_no",this.form_document.value.mat_no),e.append("folio_no",this.form_document.value.folio_no),e.append("cant",this.form_document.value.cant),e.append("no_ejemplar",this.form_document.value.no_ejemplar),e.append("cant_hojas",this.form_document.value.cant_hojas),e.append("destruccion",this.form_document.value.destruccion),e.append("destino",this.form_document.value.destino),e.append("comp",this.form_document.value.comp),e.append("imagen",this.form_document.value.imagen),"Agregar"==this.modal_action?this.api.AddDocumentSecret(e).subscribe(e=>{this.activeModal.close(this.form_document.value),this.toastrService.success("El documento se a\xf1adio correctamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")}):this.api.updateDocumentSecret(this.form_document.value.id,e).subscribe(e=>{this.activeModal.close(this.form_document.value),this.toastrService.success("El documento se actualizo correctamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")})}validarCambio(){this.disable_register="Editar"==this.modal_action?!this.validarCambioFormulario():!this.validarCamposVacios()}validarCambioFormulario(){return this.form_document_past.value.no!=this.form_document.value.no||this.form_document_past.value.lugar!=this.form_document.value.lugar||this.form_document_past.value.reg_no!=this.form_document.value.reg_no||this.src!=this.src_document||this.form_document_past.value.titulo!=this.form_document.value.titulo||this.form_document_past.value.categoria!=this.form_document.value.categoria||this.form_document_past.value.mat_no!=this.form_document.value.mat_no||this.form_document_past.value.folio_no!=this.form_document.value.folio_no||this.form_document_past.value.cant!=this.form_document.value.cant||this.form_document_past.value.no_ejemplar!=this.form_document.value.no_ejemplar||this.form_document_past.value.cant_hojas!=this.form_document.value.cant_hojas||this.form_document_past.value.destruccion!=this.form_document.value.destruccion||this.form_document_past.value.destino!=this.form_document.value.destino||this.form_document_past.value.comp!=this.form_document.value.comp}validarCamposVacios(){return""!=this.form_document.value.no&&""!=this.form_document.value.lugar&&""!=this.form_document.value.reg_no&&""!=this.form_document.value.titulo&&""!=this.form_document.value.categoria&&""!=this.form_document.value.mat_no&&""!=this.form_document.value.folio_no&&""!=this.form_document.value.cant&&""!=this.form_document.value.no_ejemplar&&""!=this.form_document.value.cant_hojas&&""!=this.form_document.value.destruccion&&""!=this.form_document.value.destino&&""!=this.form_document.value.comp&&(""!=this.src_document||this.src_document!=this.src)}fileEvent(e){let t=e.target.files[0];this.uploadFiles=e.target.files;const i=new FileReader;i.onload=()=>{this.src_document=i.result},i.readAsDataURL(t)}onChangeSelectFilter(){}changeImage(){document.getElementById("imagefile").click()}deleteImage(){this.src_document=void 0}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.a),o.Rb(ye.a),o.Rb(Se.b),o.Rb(p.e))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-modal-document"]],outputs:{document:"document"},decls:134,vars:20,consts:[[1,"modal-content","bg-darkest",2,"border","0px"],[1,"modal-header","bg-warn"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"padding-top","5px"],[3,"formGroup"],[1,"contenedor"],[1,"img-thumbnail","rounded",2,"width","100%","height","150px",3,"src","click"],["id","src-file1",1,"file-select",2,"cursor","pointer",3,"hidden"],["id","imagefile","type","file","name","src-file1","aria-label","Imagen","accept","image/*",2,"cursor","pointer",3,"change"],["appearance","outline","color","warn"],["matInput","","maxlength","20","placeholder","No.","formControlName","no","name","no","required","",3,"ngModelChange"],["no",""],["matSuffix",""],["align","end",2,"color","white"],["matInput","","maxlength","20","placeholder","Lugar","formControlName","lugar","name","lugar","required","",3,"ngModelChange"],["lugar",""],["matInput","","maxlength","20","placeholder","Titulo","formControlName","titulo","name","titulo","required","",3,"ngModelChange"],["titulo",""],["matInput","","maxlength","20","placeholder","Numero Registro","formControlName","reg_no","name","reg_no","required","",3,"ngModelChange"],["reg_no",""],["matInput","","maxlength","20","placeholder","Categoria","formControlName","categoria","name","categoria","required","",3,"ngModelChange"],["categoria",""],["matInput","","maxlength","20","placeholder","Mat_no","formControlName","mat_no","name","mat_no","required","",3,"ngModelChange"],["mat_no",""],["matInput","","maxlength","20","placeholder","Numero de Folio","formControlName","folio_no","name","folio_no","required","",3,"ngModelChange"],["folio_no",""],["matInput","","maxlength","20","placeholder","Cantidad","formControlName","cant","name","cant","required","",3,"ngModelChange"],["cant",""],["matInput","","maxlength","20","placeholder","Numero de Ejemplar","formControlName","no_ejemplar","name","no_ejemplar","required","",3,"ngModelChange"],["no_ejemplar",""],["matInput","","maxlength","20","placeholder","Cantidad de Hojas","formControlName","cant_hojas","name","cant_hojas","required","",3,"ngModelChange"],["cant_hojas",""],["matInput","","maxlength","20","placeholder","Destruccion","formControlName","destruccion","name","destruccion","required","",3,"ngModelChange"],["destruccion",""],["matInput","","maxlength","20","placeholder","Destino","formControlName","destino","name","destino","required","",3,"ngModelChange"],["destino",""],["matInput","","maxlength","20","placeholder","Comp","formControlName","comp","name","comp","required","",3,"ngModelChange"],["comp",""],[1,"modal-footer"],["mat-raised-button","","color","warn","flex","","data-dismiss","modal",3,"disabled","click"]],template:function(e,t){if(1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"h2",2),o.Oc(3),o.Wb(),o.Xb(4,"button",3),o.hc("click",function(){return t.actiModal.close()}),o.Xb(5,"span",4),o.Oc(6,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"form",6),o.Xb(9,"div",7),o.Xb(10,"img",8),o.hc("click",function(){return t.changeImage()}),o.Wb(),o.Xb(11,"div",9),o.Xb(12,"input",10),o.hc("change",function(e){return t.fileEvent(e)}),o.Wb(),o.Wb(),o.Xb(13,"div"),o.Xb(14,"mat-form-field",11),o.Xb(15,"mat-label"),o.Oc(16,"No."),o.Wb(),o.Xb(17,"input",12,13),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(19,"mat-icon",14),o.Oc(20,"title"),o.Wb(),o.Xb(21,"mat-hint",15),o.Oc(22),o.Wb(),o.Wb(),o.Xb(23,"mat-form-field",11),o.Xb(24,"mat-label"),o.Oc(25,"Lugar"),o.Wb(),o.Xb(26,"input",16,17),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(28,"mat-icon",14),o.Oc(29,"title"),o.Wb(),o.Xb(30,"mat-hint",15),o.Oc(31),o.Wb(),o.Wb(),o.Wb(),o.Xb(32,"mat-form-field",11),o.Xb(33,"mat-label"),o.Oc(34,"Titulo"),o.Wb(),o.Xb(35,"input",18,19),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(37,"mat-icon",14),o.Oc(38,"title"),o.Wb(),o.Xb(39,"mat-hint",15),o.Oc(40),o.Wb(),o.Wb(),o.Xb(41,"mat-form-field",11),o.Xb(42,"mat-label"),o.Oc(43,"Numero Registro"),o.Wb(),o.Xb(44,"input",20,21),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(46,"mat-icon",14),o.Oc(47,"title"),o.Wb(),o.Xb(48,"mat-hint",15),o.Oc(49),o.Wb(),o.Wb(),o.Xb(50,"mat-form-field",11),o.Xb(51,"mat-label"),o.Oc(52,"Categoria"),o.Wb(),o.Xb(53,"input",22,23),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(55,"mat-icon",14),o.Oc(56,"title"),o.Wb(),o.Xb(57,"mat-hint",15),o.Oc(58),o.Wb(),o.Wb(),o.Xb(59,"mat-form-field",11),o.Xb(60,"mat-label"),o.Oc(61,"Mat_no"),o.Wb(),o.Xb(62,"input",24,25),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(64,"mat-icon",14),o.Oc(65,"title"),o.Wb(),o.Xb(66,"mat-hint",15),o.Oc(67),o.Wb(),o.Wb(),o.Xb(68,"mat-form-field",11),o.Xb(69,"mat-label"),o.Oc(70,"Numero de Folio"),o.Wb(),o.Xb(71,"input",26,27),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(73,"mat-icon",14),o.Oc(74,"title"),o.Wb(),o.Xb(75,"mat-hint",15),o.Oc(76),o.Wb(),o.Wb(),o.Xb(77,"mat-form-field",11),o.Xb(78,"mat-label"),o.Oc(79,"Cantidad"),o.Wb(),o.Xb(80,"input",28,29),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(82,"mat-icon",14),o.Oc(83,"title"),o.Wb(),o.Xb(84,"mat-hint",15),o.Oc(85),o.Wb(),o.Wb(),o.Xb(86,"mat-form-field",11),o.Xb(87,"mat-label"),o.Oc(88,"Numero de Ejemplar"),o.Wb(),o.Xb(89,"input",30,31),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(91,"mat-icon",14),o.Oc(92,"title"),o.Wb(),o.Xb(93,"mat-hint",15),o.Oc(94),o.Wb(),o.Wb(),o.Xb(95,"mat-form-field",11),o.Xb(96,"mat-label"),o.Oc(97,"Cantidad de Hojas"),o.Wb(),o.Xb(98,"input",32,33),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(100,"mat-icon",14),o.Oc(101,"title"),o.Wb(),o.Xb(102,"mat-hint",15),o.Oc(103),o.Wb(),o.Wb(),o.Xb(104,"mat-form-field",11),o.Xb(105,"mat-label"),o.Oc(106,"Destruccion"),o.Wb(),o.Xb(107,"input",34,35),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(109,"mat-icon",14),o.Oc(110,"title"),o.Wb(),o.Xb(111,"mat-hint",15),o.Oc(112),o.Wb(),o.Wb(),o.Xb(113,"mat-form-field",11),o.Xb(114,"mat-label"),o.Oc(115,"Destino"),o.Wb(),o.Xb(116,"input",36,37),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(118,"mat-icon",14),o.Oc(119,"title"),o.Wb(),o.Xb(120,"mat-hint",15),o.Oc(121),o.Wb(),o.Wb(),o.Xb(122,"mat-form-field",11),o.Xb(123,"mat-label"),o.Oc(124,"Comp"),o.Wb(),o.Xb(125,"input",38,39),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(127,"mat-icon",14),o.Oc(128,"title"),o.Wb(),o.Xb(129,"mat-hint",15),o.Oc(130),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(131,"div",40),o.Xb(132,"button",41),o.hc("click",function(){return t.ActionDocument()}),o.Oc(133),o.Wb(),o.Wb(),o.Wb()),2&e){const e=o.Bc(18),i=o.Bc(27),a=o.Bc(36),n=o.Bc(45),r=o.Bc(54),s=o.Bc(63),c=o.Bc(72),l=o.Bc(81),d=o.Bc(90),m=o.Bc(99),u=o.Bc(108),b=o.Bc(117),h=o.Bc(126);o.Db(3),o.Rc("",t.modal_action," ",t.modalHeader,""),o.Db(5),o.qc("formGroup",t.form_document),o.Db(2),o.qc("src",t.src_document,o.Hc),o.Db(1),o.qc("hidden",!0),o.Db(11),o.Qc("",e.value.length," / 20"),o.Db(9),o.Qc("",i.value.length," / 20"),o.Db(9),o.Qc("",a.value.length," / 20"),o.Db(9),o.Qc("",n.value.length," / 20"),o.Db(9),o.Qc("",r.value.length," / 20"),o.Db(9),o.Qc("",s.value.length," / 20"),o.Db(9),o.Qc("",c.value.length," / 20"),o.Db(9),o.Qc("",l.value.length," / 20"),o.Db(9),o.Qc("",d.value.length," / 20"),o.Db(9),o.Qc("",m.value.length," / 20"),o.Db(9),o.Qc("",u.value.length," / 20"),o.Db(9),o.Qc("",b.value.length," / 20"),o.Db(9),o.Qc("",h.value.length," / 20"),o.Db(2),o.qc("disabled",t.disable_register),o.Db(1),o.Qc("",t.modal_action," documento")}},directives:[Y.x,Y.o,Y.h,Re.b,Re.f,Z.b,Y.c,Y.j,Y.n,Y.f,Y.u,oe.a,Re.g,Re.e,ne.a],styles:['.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.contenedor-image[_ngcontent-%COMP%]{display:block;flex-direction:row;margin:0;max-height:400px}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select[_ngcontent-%COMP%]:before{background-color:#f44336;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;left:0;right:0;top:0;bottom:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Seleccionar Imagen"}.image[_ngcontent-%COMP%]{float:none;position:relative}.icon-visibility[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.icon[_ngcontent-%COMP%]{font-size:40px;cursor:pointer}']}),e})();function Te(e,t){if(1&e){const e=o.Yb();o.Xb(0,"button",5),o.hc("click",function(){return o.Fc(e),o.lc().openModal()}),o.Xb(1,"mat-icon",6),o.Oc(2,"add_box"),o.Wb(),o.Oc(3),o.Wb()}if(2&e){const e=o.lc();o.Db(3),o.Qc("Agregar ",e.modal_header," ")}}let Ue=(()=>{class e{constructor(e){this.modalService=e,this.modal_icon="build",this.modal_subheader="Subtitle",this.modal_header="title",this.withAddButton=!0,this.emisor=new o.o}ngOnInit(){}openModal(){switch(console.log(this.modal_header),this.modal_header){case"Usuario":(e=this.modalService.open(je)).componentInstance.modalHeader="Nuevo usuario",e.componentInstance.modalmessage="Se debe rellenar todos los campos marcados con un asterisco",e.componentInstance.modal_action="Agregar",e.result.then(e=>{e&&this.registerOrUpdate()});break;case"Roles":(e=this.modalService.open(He)).componentInstance.modalHeader="Nuevo Rol",e.componentInstance.modalmessage="Se debe rellenar todos los campos marcados con un asterisco",e.componentInstance.modal_action="Agregar",e.result.then(e=>{e&&this.registerOrUpdate()});break;case"Permisos":(e=this.modalService.open(Le)).componentInstance.modalHeader="permisos",e.componentInstance.modalmessage="Se debe rellenar todos los campos marcados con un asterisco",e.componentInstance.modal_action="Asignar",e.result.then(e=>{e&&this.registerOrUpdate()});break;case"Documentos Secretos":(e=this.modalService.open(Ee,{backdrop:!1})).componentInstance.modalHeader="Documentos Secretos",e.componentInstance.modalmessage="Se debe rellenar todos los campos marcados con un asterisco",e.componentInstance.modal_action="Agregar",e.result.then(e=>{e&&this.registerOrUpdate()});break;case"Documentos Limitados":var e;(e=this.modalService.open(Ie,{backdrop:!1})).componentInstance.modalHeader="Documentos limitados",e.componentInstance.modalmessage="Se debe rellenar todos los campos marcados con un asterisco",e.componentInstance.modal_action="Agregar",e.result.then(e=>{e&&this.registerOrUpdate()});default:console.log("default")}}registerOrUpdate(){this.emisor.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-top-bar"]],inputs:{modal_icon:"modal_icon",modal_subheader:"modal_subheader",modal_header:"modal_header",withAddButton:"withAddButton"},outputs:{emisor:"emisor"},decls:11,vars:3,consts:[[1,"back","bg-darkest","mat-elevation-z4",2,"color","black"],[1,"row","deep-orange",2,"height","35px"],[2,"font-size","20px","padding-left","10px"],[2,"font-size","15px","padding-left","10px"],["style","padding-left: 10px;","mat-raised-button","","color","warn","flex","","class","ml-auto icon-in-menu",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","flex","",1,"ml-auto","icon-in-menu",2,"padding-left","10px",3,"click"],[1,"mat-18"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"mat-card"),o.Xb(2,"mat-card-header"),o.Sb(3,"mat-card-title"),o.Wb(),o.Xb(4,"mat-card-content"),o.Xb(5,"div",1),o.Xb(6,"mat-icon",2),o.Oc(7),o.Wb(),o.Xb(8,"span",3),o.Oc(9),o.Wb(),o.Mc(10,Te,4,1,"button",4),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Db(7),o.Pc(t.modal_icon),o.Db(2),o.Pc(t.modal_header),o.Db(1),o.qc("ngIf",t.withAddButton))},directives:[G.a,G.e,G.i,G.d,oe.a,p.m,ne.a],styles:[".mat-card[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;background-color:#252525;color:#f5f5f5}mat-divider[_ngcontent-%COMP%]{background-color:#646464}.deep-orange[_ngcontent-%COMP%]{color:#f44336}.icon-in-menu[_ngcontent-%COMP%]{position:relative;margin-right:5px;text-align:right}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}"]}),e})();function Be(e,t){1&e&&(o.Xb(0,"mat-hint",13),o.Oc(1,"codigo incorrecto"),o.Wb())}let Ne=(()=>{class e{constructor(e,t,i){this.activeModal=e,this.api=t,this.toastrService=i,this.modalHeader="",this.modalmessage="Para confirmar que desea eliminar y no es solo por equivocacion por favor inserte `borrar` en el campo a continuacion luego presione aceptar",this.confirmar="",this.id=-1,this.icon="delete_forever",this.color="warn",this.disable_button=!0,this.actiModal=this.activeModal}ngOnInit(){}eliminar(){switch(this.modalHeader){case"Usuario":this.api.DeleteUsuario(this.id).subscribe(e=>{console.log(e),this.activeModal.close(e),this.toastrService.success("Usuario borrado satisfactoriamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")});break;case"Rol":this.api.DeleteRol(this.id).subscribe(e=>{console.log(this.activeModal.close(e)),this.toastrService.success("Rol borrado satisfactoriamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")});break;case"Documento":this.api.deleteDocument(this.id).subscribe(e=>{console.log(this.activeModal.close(e)),this.toastrService.success("Documento borrado satisfactoriamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")});break;case"Documento Limitado":this.api.deleteDocumentLimit(this.id).subscribe(e=>{console.log(this.activeModal.close(e)),this.toastrService.success("Documento borrado satisfactoriamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")});break;case"Documento Secreto":this.api.deleteDocumentSecret(this.id).subscribe(e=>{console.log(this.activeModal.close(e)),this.toastrService.success("Documento borrado satisfactoriamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")});break;default:console.log("default")}}permitirBorrar(){"borrar"==this.confirmar?(this.disable_button=!1,this.icon="done",this.color="primary"):(this.disable_button=!0,this.icon="delete_forever",this.color="warn")}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.a),o.Rb(ye.a),o.Rb(Se.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-modal-delete"]],decls:22,vars:8,consts:[["mat-elevation-z8","",1,"modal-content","bg-darkest"],[1,"modal-header","bg-warn"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"contenedor"],["appearance","outline",3,"color"],["matInput","","placeholder","Usuario","name","confirmar","required","",3,"ngModel","ngModelChange"],["matSuffix",""],["style","color: #ff5722;",4,"ngIf"],[1,"modal-footer"],["mat-raised-button","","color","warn","flex","","data-dismiss","modal",3,"disabled","click"],[2,"color","#ff5722"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"h2",2),o.Oc(3),o.Wb(),o.Xb(4,"button",3),o.hc("click",function(){return t.actiModal.close()}),o.Xb(5,"span",4),o.Oc(6,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"p"),o.Oc(9),o.Wb(),o.Xb(10,"form"),o.Xb(11,"div",6),o.Xb(12,"mat-form-field",7),o.Xb(13,"mat-label"),o.Oc(14,"confirmacion"),o.Wb(),o.Xb(15,"input",8),o.hc("ngModelChange",function(e){return t.confirmar=e})("ngModelChange",function(){return t.permitirBorrar()}),o.Wb(),o.Xb(16,"mat-icon",9),o.Oc(17),o.Wb(),o.Mc(18,Be,2,0,"mat-hint",10),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(19,"div",11),o.Xb(20,"button",12),o.hc("click",function(){return t.eliminar()}),o.Oc(21),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Db(3),o.Qc("Eliminar ",t.modalHeader,""),o.Db(6),o.Pc(t.modalmessage),o.Db(3),o.rc("color",t.color),o.Db(3),o.qc("ngModel",t.confirmar),o.Db(2),o.Pc(t.icon),o.Db(1),o.qc("ngIf",t.disable_button),o.Db(2),o.qc("disabled",t.disable_button),o.Db(1),o.Qc("Eliminar ",t.modalHeader,""))},directives:[Y.x,Y.o,Y.p,Re.b,Re.f,Z.b,Y.c,Y.u,Y.n,Y.q,oe.a,Re.g,p.m,ne.a,Re.e],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}.modal-content[_ngcontent-%COMP%]{-webkit-border-color:#1b1b1b!important;-moz-border-color:#1b1b1b!important;border-color:#1b1b1b!important;background-color:#252525;background:#252525;border:#1b1b1b}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#fff!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#fff}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:green}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important;opacity:.8!important}  .mat-input-element{caret-color:#fff!important}.mat-warn[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%],   .mat-form-field-invalid .mat-input-element{caret-color:#fff}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#fff}"]}),e})(),Qe=(()=>{class e{constructor(e,t){this.api=e,this.modalService=t,this.id=-1,this.src_document="ctc.png",this.no="",this.lugar="",this.reg_no="",this.titulo="",this.categoria="",this.mat_no="",this.folio_no="",this.cant="",this.no_ejemplar="",this.cant_hojas="",this.destruccion="",this.destino="",this.comp="",this.emisor=new o.o}ngOnInit(){console.log(this.destruccion),this.api.getDocumentsSecretFoto(this.id).subscribe(e=>{this.src_document=e+""},e=>{this.src_document=e.url})}deleteDocument(){var e=this.modalService.open(Ne);e.componentInstance.modalHeader="Documento Secreto",e.componentInstance.id=this.id,e.result.then(e=>{e&&this.emisor.emit(!0)})}updateDocument(){const e=this.modalService.open(Ee,{backdrop:!1});let t=new Y.g({id:new Y.d(this.id),no:new Y.d(this.no),lugar:new Y.d(this.lugar),reg_no:new Y.d(this.reg_no),titulo:new Y.d(this.titulo),categoria:new Y.d(this.categoria),mat_no:new Y.d(this.mat_no),folio_no:new Y.d(this.folio_no),cant:new Y.d(this.cant),no_ejemplar:new Y.d(this.no_ejemplar),cant_hojas:new Y.d(this.cant_hojas),destruccion:new Y.d(this.destruccion),destino:new Y.d(this.destino),comp:new Y.d(this.comp),imagen:new Y.d(this.no)});e.componentInstance.modalHeader="Documentos Secretos",e.componentInstance.modalmessage="Se debe rellenar todos los campos marcados con un asterisco",e.componentInstance.modal_action="Editar",e.componentInstance.form_document=t,e.componentInstance.src_document=this.src_document,e.result.then(e=>{e&&this.emisor.emit(!0)})}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a),o.Rb(Pe.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-documentos-secretos-item"]],inputs:{id:"id",src_document:"src_document",no:"no",lugar:"lugar",reg_no:"reg_no",titulo:"titulo",categoria:"categoria",mat_no:"mat_no",folio_no:"folio_no",cant:"cant",no_ejemplar:"no_ejemplar",cant_hojas:"cant_hojas",destruccion:"destruccion",destino:"destino",comp:"comp"},outputs:{emisor:"emisor"},decls:20,vars:4,consts:[[1,"bg-darkest","item-document",2,"width","400px","height","300px","max-width","270px"],["name","no","mat-card-avatar","",1,"text-danger"],["mat-icon-button","",2,"position","absolute","right","5px","top","5px",3,"matMenuTriggerFor"],[1,"bg-dark"],["menu","matMenu"],["mat-menu-item","",2,"color","white",3,"click"],[1,"text-center"],["mat-card-image","",2,"height","150px","width","100%",3,"src"],[1,"texto",2,"font-size","small","margin-top","10px"],[2,"font-size","medium","color","#f44336"],["align","start"]],template:function(e,t){if(1&e&&(o.Xb(0,"mat-card",0),o.Xb(1,"mat-card-header"),o.Sb(2,"div",1),o.Xb(3,"button",2),o.Xb(4,"mat-icon"),o.Oc(5,"more_vert"),o.Wb(),o.Wb(),o.Xb(6,"mat-menu",3,4),o.Xb(8,"button",5),o.hc("click",function(){return t.updateDocument()}),o.Oc(9,"actualizar"),o.Wb(),o.Xb(10,"button",5),o.hc("click",function(){return t.deleteDocument()}),o.Oc(11,"eliminar"),o.Wb(),o.Wb(),o.Wb(),o.Xb(12,"div",6),o.Sb(13,"img",7),o.Wb(),o.Xb(14,"mat-card-content",8),o.Xb(15,"mat-card-title",9),o.Oc(16),o.Wb(),o.Xb(17,"p"),o.Oc(18),o.Wb(),o.Wb(),o.Sb(19,"mat-card-actions",10),o.Wb()),2&e){const e=o.Bc(7);o.Db(3),o.qc("matMenuTriggerFor",e),o.Db(10),o.qc("src",t.src_document,o.Hc),o.Db(3),o.Pc(t.titulo),o.Db(2),o.Pc(t.categoria)}},directives:[G.a,G.e,G.c,ne.a,re.d,oe.a,re.a,re.b,G.f,G.d,G.i,G.b],styles:[".bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5;box-shadow:2px 2px 2px 2px rgba(0,0,0,.2)}.card[_ngcontent-%COMP%]{margin:10px;overflow-y:scroll;scrollbar-width:none;height:100%;width:100%;padding-bottom:20px;font-size:10px}.bubble[_ngcontent-%COMP%]{height:30px;width:30px;box-shadow:2px 2px 2px 2px rgba(0,0,0,.2);text-align:center;margin-inline:10px}.bubble[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center}.header[_ngcontent-%COMP%]{position:absolute;top:20px;flex-direction:row}"]}),e})();function $e(e,t){1&e&&o.Sb(0,"mat-spinner",15)}function Ve(e,t){if(1&e&&(o.Xb(0,"div",16),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.server_message," ")}}function Ye(e,t){if(1&e&&(o.Xb(0,"div",12),o.Mc(1,$e,1,0,"mat-spinner",13),o.Mc(2,Ve,2,1,"div",14),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function Ge(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-grid-tile"),o.Xb(1,"app-documentos-secretos-item",19),o.hc("emisor",function(t){return o.Fc(e),o.lc(2).registerOrUpdateOrDelete(t)}),o.Wb(),o.Wb()}if(2&e){const e=t.$implicit;o.Db(1),o.qc("id",e.id)("no",e.no)("lugar",e.lugar)("reg_no",e.reg_no)("titulo",e.titulo)("categoria",e.categoria)("mat_no",e.mat_no)("folio_no",e.folio_no)("cant",e.cant)("no_ejemplar",e.no_ejemplar)("cant_hojas",e.cant_hojas)("destruccion",e.destruccion)("destino",e.destino)("comp",e.comp)}}function Je(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-grid-list",17),o.hc("resize",function(t){return o.Fc(e),o.lc().onResize(t)},!1,o.Ec),o.Mc(1,Ge,2,14,"mat-grid-tile",18),o.Wb()}if(2&e){const e=o.lc();o.qc("cols",e.breakpoint),o.Db(1),o.qc("ngForOf",e.documentos)}}let Ke=(()=>{class e{constructor(e){this.api=e,this.title="Documentos Secretos",this.subtitle="Vista privada no para todos los usuarios",this.icon="assignment",this.documentos=[],this.documentos_reser=[],this.isLoadingResults=!0,this.isRateLimitReached=!1,this.filtro_visivility="pyp",this.filtro=""}ngOnInit(){this.loadData()}registerOrUpdate(e){}loadData(){this.isLoadingResults=!0,this.api.getDocumentsSecret(1).subscribe(e=>{e.length>0?(console.log("resultados",e),this.documentos=e,this.documentos_reser=e,this.isLoadingResults=!1):(this.documentos=[],this.documentos_reser=[],this.isLoadingResults=!1,this.server_message="No hay documentos en estos momentos"),this.iniLista()},e=>{console.log(e),this.isLoadingResults=!1,this.isRateLimitReached=!0,this.server_message="El servidor no esta disponible en estos momentos",this.iniLista()})}onResize(e){const t=e.target.innerHeight;this.redimensionarListaWidth(e.target.innerWidth),this.redimensionarListaHeigth(t)}redimensionarListaWidth(e){this.breakpoint=e<=597?1:e<=870?2:e<=1085?3:4}redimensionarListaHeigth(e){const t=e-290;document.getElementById("lista").style.height=t+"px"}iniLista(){if(!this.isLoadingResults){var e=document.getElementById("lista");this.redimensionarListaWidth(e.clientWidth)}}onDelete(e){this.loadData()}filtroAll(){this.documentos=this.documentos_reser.filter(e=>-1!==e.titulo.toLowerCase().indexOf(this.filtro.toLowerCase()))}registerOrUpdateOrDelete(e){e&&this.loadData()}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-documentos-secretos"]],decls:15,vars:6,consts:[[1,"bg-dark","full-container"],[3,"modal_header","modal_icon","modal_subheader","emisor"],[1,"row","bg-darkest","filtros","mat-elevation-z4",2,"padding","10px","margin-top","10px","margin-inline","0px","height","70px"],[1,"col-md-10"],[1,"col-md-2"],[2,"position","absolute","right","0","margin-right","15px"],["appearance","outline","color","warn"],["matInput","","placeholder","Escriba criterio de busqueda ...","name","filtro",2,"color","white",3,"ngModel","ngModelChange"],["matSuffix",""],["id","lista",1,"lista-document"],["class","example-loading-shade",4,"ngIf"],["rowHeight","1.6:2",3,"cols","resize",4,"ngIf"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached","style","color: #f44336;",4,"ngIf"],["color","warn"],[1,"example-rate-limit-reached",2,"color","#f44336"],["rowHeight","1.6:2",3,"cols","resize"],[4,"ngFor","ngForOf"],[3,"id","no","lugar","reg_no","titulo","categoria","mat_no","folio_no","cant","no_ejemplar","cant_hojas","destruccion","destino","comp","emisor"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"app-top-bar",1),o.hc("emisor",function(e){return t.registerOrUpdateOrDelete(e)}),o.Wb(),o.Xb(2,"div",2),o.Sb(3,"div",3),o.Xb(4,"div",4),o.Xb(5,"section",5),o.Xb(6,"mat-form-field",6),o.Xb(7,"mat-label"),o.Oc(8,"Filtrar por titulo"),o.Wb(),o.Xb(9,"input",7),o.hc("ngModelChange",function(e){return t.filtro=e})("ngModelChange",function(){return t.filtroAll()}),o.Wb(),o.Xb(10,"mat-icon",8),o.Oc(11,"search"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(12,"div",9),o.Mc(13,Ye,3,2,"div",10),o.Mc(14,Je,2,2,"mat-grid-list",11),o.Wb(),o.Wb()),2&e&&(o.Db(1),o.qc("modal_header",t.title)("modal_icon",t.icon)("modal_subheader",t.subtitle),o.Db(8),o.qc("ngModel",t.filtro),o.Db(4),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(1),o.qc("ngIf",!t.isLoadingResults))},directives:[Ue,Re.b,Re.f,Z.b,Y.c,Y.n,Y.q,oe.a,Re.g,p.m,We.b,Ce,p.l,pe,Qe],styles:[".full-container[_ngcontent-%COMP%]{padding-top:25px;padding-inline:20px}.lista-document[_ngcontent-%COMP%]{margin-top:20px;height:400px;overflow-y:scroll;scrollbar-width:none}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:20;left:0;right:0;z-index:1;display:flex;align-items:center;justify-content:center}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f44336}.filtros[_ngcontent-%COMP%]{margin-inline:20px;height:50px;border-radius:5px}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#f44336}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336!important;opacity:.8!important}  .mat-input-element{caret-color:#f44336!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#f44336}"]}),e})();var Ze=i("e4Ts");function et(e,t){1&e&&(o.Xb(0,"mat-icon",41),o.Oc(1,"check"),o.Wb())}function tt(e,t){1&e&&(o.Xb(0,"mat-icon",42),o.Oc(1,"close"),o.Wb())}function it(e,t){if(1&e&&(o.Xb(0,"mat-list-option",35),o.Xb(1,"div",1),o.Xb(2,"div",36),o.Xb(3,"mat-icon",37),o.Oc(4),o.Wb(),o.Wb(),o.Xb(5,"div",38),o.Xb(6,"label"),o.Oc(7),o.Wb(),o.Wb(),o.Xb(8,"div",36),o.Mc(9,et,2,0,"mat-icon",39),o.Mc(10,tt,2,0,"mat-icon",40),o.Wb(),o.Wb(),o.Wb()),2&e){const e=t.$implicit;o.Db(4),o.Pc(e.icon),o.Db(3),o.Pc(e.name),o.Db(2),o.qc("ngIf",e.granted),o.Db(1),o.qc("ngIf",!e.granted)}}function ot(e,t){1&e&&o.Sb(0,"mat-spinner",11)}function at(e,t){if(1&e&&(o.Xb(0,"div",46),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.message_server," ")}}function nt(e,t){if(1&e&&(o.Xb(0,"div",43),o.Mc(1,ot,1,0,"mat-spinner",44),o.Mc(2,at,2,1,"div",45),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function rt(e,t){1&e&&(o.Xb(0,"th",47),o.Oc(1,"id"),o.Wb())}function st(e,t){if(1&e&&(o.Xb(0,"td",48),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.id)}}function ct(e,t){1&e&&(o.Xb(0,"th",49),o.Oc(1,"Usuario"),o.Wb())}function lt(e,t){if(1&e&&(o.Xb(0,"td",48),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Qc(" ",e.usuario,"")}}function dt(e,t){1&e&&(o.Xb(0,"th",50),o.Oc(1,"Accion"),o.Wb())}function mt(e,t){if(1&e&&(o.Xb(0,"td",48),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Qc(" ",e.accion,"")}}function ut(e,t){1&e&&(o.Xb(0,"th",51),o.Oc(1,"Fecha"),o.Wb())}function bt(e,t){if(1&e&&(o.Xb(0,"td",48),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Qc(" ",e.fecha,"")}}function ht(e,t){1&e&&o.Sb(0,"tr",52)}function pt(e,t){1&e&&o.Sb(0,"tr",53)}const gt=function(){return[5,7,15,20,30]};let ft=(()=>{class e{constructor(e,t){this.storage=e,this.api=t,this.displayedColumns=["id","user","accion","fecha"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.message_server="",this.user="",this.rol="Historial de acciones",this.permisos=[],this.urlImage="ctc.png",this.usuario="",this.nombre="",this.register_date="",this.register_hour="",this.rol_name=""}ngOnInit(){const e=this.storage.retrieve("usuario");console.log(e),this.api.getAvatarUser(e.id).subscribe(e=>{this.urlImage=e.toString()},e=>{this.urlImage=e.url}),this.usuario=e.user,this.nombre=e.full_name,this.register_date=e.register_date,this.register_hour=e.register_hour,this.rol_name=e.rol_name,this.permisos.push({icon:"done_all",name:"permiso de todo",granted:1==e.is_all}),this.permisos.push({icon:"library_books",name:"permiso de lectura",granted:1==e.is_read}),this.permisos.push({icon:"edit",name:"permiso de escritura",granted:1==e.is_edit}),this.permisos.push({icon:"delete_sweep",name:"permiso de eliminacion",granted:1==e.is_delete}),this.permisos.push({icon:"create_new_folder",name:"permiso de creacion",granted:1==e.is_create}),this.api.getUserHistory(e.id).subscribe(e=>{e.length>0?(this.dataSource=new V.k(e),this.resultsLength=e.length,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isLoadingResults=!1):(this.dataSource=new V.k([]),this.resultsLength=0,this.isRateLimitReached=!0,this.isLoadingResults=!1,this.message_server="El usuario no ha ingresado nunca a la pagina")},e=>{this.message_server=e.error.message,this.isLoadingResults=!1,this.isRateLimitReached=!0,this.resultsLength=0})}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Ze.c),o.Rb(ye.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-perfil-usuario"]],viewQuery:function(e,t){if(1&e&&(o.Tc($.a,1),o.Tc(Q.a,1)),2&e){let e;o.Ac(e=o.ic())&&(t.paginator=e.first),o.Ac(e=o.ic())&&(t.sort=e.first)}},decls:80,vars:22,consts:[[1,"full-container","bg-dark"],[1,"row"],[1,"col-md-12"],["cols","4","rowHeight","100px"],[1,"bg-dark",3,"colspan","rowspan"],[1,"bg-darkest","cont",2,"width","100%","margin-inline","10px"],[2,"font-size","medium","color","#f44336"],[2,"font-size","xx-small","color","white"],[1,"col-md-5"],[1,"img-thumbnail","rounded-circle",2,"height","150px","width","150px","box-shadow","2px 2px 2px 2px rgba(0, 0, 0.2, 0)",3,"src"],[1,"col-md-7",2,"display","flex","flex-direction","column","vertical-align","middle"],["color","warn"],[1,"texto",2,"font-size","small","margin-top","10px"],["align","start"],[2,"overflow-y","auto","height","150px",3,"multiple"],["shoes",""],["style","font-size: small;scrollbar-width: none;height: 25px;",4,"ngFor","ngForOf"],[1,"full-containers"],[1,"example-container","mat-elevation-z0","bg-dark"],["class","example-loading-shade",4,"ngIf"],[1,"example-container"],[1,"example-table-container"],["mat-table","","matSortActive","created","matSortDisableClear","","matSortDirection","desc","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","id"],["class","bg-darkest","mat-header-cell","","mat-sort-header","id",4,"matHeaderCellDef"],["class","bg-dark","mat-cell","",4,"matCellDef"],["matColumnDef","user"],["class","bg-darkest","mat-header-cell","","mat-sort-header","user",4,"matHeaderCellDef"],["matColumnDef","accion"],["class","bg-darkest","mat-header-cell","","mat-sort-header","accion",4,"matHeaderCellDef"],["matColumnDef","fecha"],["class","bg-darkest","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"bg-darkest",3,"length","pageSize","pageSizeOptions"],[2,"font-size","small","scrollbar-width","none","height","25px"],[1,"col-md-2"],["color","warn",1,"mat-18"],[1,"col-md-8",2,"color","white"],["class","mat-18 text-success",4,"ngIf"],["class","mat-18 text-danger",4,"ngIf"],[1,"mat-18","text-success"],[1,"mat-18","text-danger"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],[1,"example-rate-limit-reached"],["mat-header-cell","","mat-sort-header","id",1,"bg-darkest"],["mat-cell","",1,"bg-dark"],["mat-header-cell","","mat-sort-header","user",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","accion",1,"bg-darkest"],["mat-header-cell","",1,"bg-darkest"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"mat-grid-list",3),o.Xb(4,"mat-grid-tile",4),o.Xb(5,"mat-card",5),o.Xb(6,"mat-card-header"),o.Xb(7,"mat-card-title",6),o.Oc(8,"Datos del usuario"),o.Wb(),o.Xb(9,"mat-card-subtitle",7),o.Oc(10,"usuario actual"),o.Wb(),o.Wb(),o.Xb(11,"div",1),o.Xb(12,"div",8),o.Sb(13,"img",9),o.Wb(),o.Xb(14,"div",10),o.Xb(15,"div"),o.Xb(16,"mat-icon",11),o.Oc(17,"person"),o.Wb(),o.Oc(18),o.Wb(),o.Xb(19,"div"),o.Xb(20,"mat-icon",11),o.Oc(21,"text_fields"),o.Wb(),o.Oc(22),o.Wb(),o.Xb(23,"div"),o.Xb(24,"mat-icon",11),o.Oc(25,"date_range"),o.Wb(),o.Oc(26),o.Wb(),o.Xb(27,"div"),o.Xb(28,"mat-icon",11),o.Oc(29,"hourglass_empty"),o.Wb(),o.Oc(30),o.Wb(),o.Xb(31,"div"),o.Xb(32,"mat-icon",11),o.Oc(33,"verified_user"),o.Wb(),o.Oc(34),o.Wb(),o.Wb(),o.Wb(),o.Sb(35,"mat-card-content",12),o.Sb(36,"mat-card-actions",13),o.Wb(),o.Wb(),o.Xb(37,"mat-grid-tile",4),o.Xb(38,"mat-card",5),o.Xb(39,"mat-card-header"),o.Xb(40,"mat-card-title",6),o.Oc(41,"Permisos del usuario"),o.Wb(),o.Xb(42,"mat-card-subtitle",7),o.Oc(43,"usuario actual"),o.Wb(),o.Wb(),o.Xb(44,"div"),o.Xb(45,"mat-selection-list",14,15),o.Mc(47,it,11,4,"mat-list-option",16),o.Wb(),o.Wb(),o.Sb(48,"mat-card-content",12),o.Sb(49,"mat-card-actions",13),o.Wb(),o.Wb(),o.Xb(50,"mat-grid-tile",4),o.Xb(51,"mat-card",5),o.Xb(52,"mat-card-header"),o.Xb(53,"mat-card-title",6),o.Oc(54,"Historial del usuario"),o.Wb(),o.Xb(55,"mat-card-subtitle",7),o.Oc(56,"usuario actual"),o.Wb(),o.Wb(),o.Xb(57,"mat-card-content",12),o.Xb(58,"div",17),o.Xb(59,"div",18),o.Mc(60,nt,3,2,"div",19),o.Xb(61,"div",20),o.Xb(62,"div",21),o.Xb(63,"table",22),o.Vb(64,23),o.Mc(65,rt,2,0,"th",24),o.Mc(66,st,2,1,"td",25),o.Ub(),o.Vb(67,26),o.Mc(68,ct,2,0,"th",27),o.Mc(69,lt,2,1,"td",25),o.Ub(),o.Vb(70,28),o.Mc(71,dt,2,0,"th",29),o.Mc(72,mt,2,1,"td",25),o.Ub(),o.Vb(73,30),o.Mc(74,ut,2,0,"th",31),o.Mc(75,bt,2,1,"td",25),o.Ub(),o.Mc(76,ht,1,0,"tr",32),o.Mc(77,pt,1,0,"tr",33),o.Wb(),o.Wb(),o.Sb(78,"mat-paginator",34),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Sb(79,"mat-card-actions",13),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Db(4),o.qc("colspan",2)("rowspan",3),o.Db(9),o.qc("src",t.urlImage,o.Hc),o.Db(5),o.Qc(" Usuario: ",t.usuario,""),o.Db(4),o.Qc(" Nombre: ",t.nombre,""),o.Db(4),o.Qc(" Fecha de registro: ",t.register_date,""),o.Db(4),o.Qc(" Hora de registro: ",t.register_hour,""),o.Db(4),o.Qc(" Rol: ",t.rol_name,""),o.Db(3),o.qc("colspan",2)("rowspan",3),o.Db(8),o.qc("multiple",!1),o.Db(2),o.qc("ngForOf",t.permisos),o.Db(3),o.qc("colspan",4)("rowspan",3),o.Db(10),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(3),o.qc("dataSource",t.dataSource),o.Db(13),o.qc("matHeaderRowDef",t.displayedColumns),o.Db(1),o.qc("matRowDefColumns",t.displayedColumns),o.Db(1),o.qc("length",t.resultsLength)("pageSize",7)("pageSizeOptions",o.tc(21,gt)))},directives:[Ce,pe,G.a,G.e,G.i,G.h,oe.a,G.d,G.b,ie.f,p.l,p.m,V.j,Q.a,V.c,V.e,V.b,V.g,V.i,$.a,ie.d,We.b,V.d,Q.b,V.a,V.f,V.h],styles:[".full-container[_ngcontent-%COMP%]{padding-top:25px;padding-inline:20px}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;height:150px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#f44336;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525}.bg-darkest[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f5f5f5}.full-containers[_ngcontent-%COMP%]{padding-top:0}td.mat-column-actions[_ngcontent-%COMP%]{width:130px;padding-right:8px}mat-form-field[_ngcontent-%COMP%]{margin-inline:10px}.encabezados-filtros[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filtros[_ngcontent-%COMP%]{max-height:80px}mat-label[_ngcontent-%COMP%]{font-size:11px}.mat-form-field-busqueda[_ngcontent-%COMP%]{max-width:300px}.row-visibility-none[_ngcontent-%COMP%]{display:none}.font-bold[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#fff}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important;opacity:.8!important}  .mat-input-element{caret-color:#fff!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#fff}.cont[_ngcontent-%COMP%]{padding:20px;transition:.5s}.cont[_ngcontent-%COMP%]:hover{padding:30px;transition:.5s}"]}),e})();function _t(e,t){1&e&&o.Sb(0,"mat-spinner",31)}function vt(e,t){if(1&e&&(o.Xb(0,"div",32),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.message_server," ")}}function xt(e,t){if(1&e&&(o.Xb(0,"div",28),o.Mc(1,_t,1,0,"mat-spinner",29),o.Mc(2,vt,2,1,"div",30),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function Ot(e,t){1&e&&(o.Xb(0,"th",33),o.Oc(1,"id"),o.Wb())}function wt(e,t){if(1&e&&(o.Xb(0,"td",34),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.id)}}function Ct(e,t){1&e&&(o.Xb(0,"th",35),o.Oc(1,"Usuario"),o.Wb())}function Mt(e,t){if(1&e&&(o.Xb(0,"td",34),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Qc(" ",e.usuario,"")}}function Wt(e,t){1&e&&(o.Xb(0,"th",36),o.Oc(1,"Accion"),o.Wb())}function Xt(e,t){if(1&e&&(o.Xb(0,"td",34),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Qc(" ",e.accion,"")}}function Dt(e,t){1&e&&(o.Xb(0,"th",37),o.Oc(1,"Fecha"),o.Wb())}function kt(e,t){if(1&e&&(o.Xb(0,"td",34),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Qc(" ",e.fecha,"")}}function yt(e,t){1&e&&o.Sb(0,"tr",38)}function Pt(e,t){1&e&&o.Sb(0,"tr",39)}const St=function(){return[5,7,15,20,30]};let Rt=(()=>{class e{constructor(e,t){this.activeModal=e,this.api=t,this.modal_action="Ver",this.modalHeader="",this.user_id=-1,this.displayedColumns=["id","user","accion","fecha"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.message_server="",this.user="",this.rol="Historial de acciones",this.actiModal=e}ngOnInit(){this.loadData()}loadData(){this.api.getAvatarUser(this.user_id).subscribe(e=>{this.src_avatar=e},e=>{this.src_avatar=e.url}),this.api.getUserHistory(this.user_id).subscribe(e=>{e.length>0?(this.dataSource=new V.k(e),this.resultsLength=e.length,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isLoadingResults=!1):(this.dataSource=new V.k([]),this.resultsLength=0,this.isRateLimitReached=!0,this.isLoadingResults=!1,this.message_server="El usuario no ha ingresado nunca a la pagina")},e=>{this.message_server=e.error.message,this.isLoadingResults=!1,this.isRateLimitReached=!0,this.resultsLength=0})}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.a),o.Rb(ye.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-modal-user-history"]],viewQuery:function(e,t){if(1&e&&(o.Tc($.a,1),o.Tc(Q.a,1)),2&e){let e;o.Ac(e=o.ic())&&(t.paginator=e.first),o.Ac(e=o.ic())&&(t.sort=e.first)}},decls:34,vars:11,consts:[[1,"modal-content","bg-darkest",2,"border","0px"],[1,"modal-header","bg-warn"],[1,"rounded-circle",2,"width","50px","height","50px","margin-right","10px","box-shadow","2px 2px 2px 2px rgba(0,0,0,0.2)",3,"src"],[2,"display","block"],[2,"font-size","15px"],[2,"font-size","10px"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"full-container"],[1,"example-container","mat-elevation-z0","bg-dark"],["class","example-loading-shade",4,"ngIf"],[1,"example-container","mat-elevation-z4"],[1,"example-table-container"],["mat-table","","matSortActive","created","matSortDisableClear","","matSortDirection","desc","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","id"],["class","bg-darkest","mat-header-cell","","mat-sort-header","id",4,"matHeaderCellDef"],["class","bg-dark","mat-cell","",4,"matCellDef"],["matColumnDef","user"],["class","bg-darkest","mat-header-cell","","mat-sort-header","user",4,"matHeaderCellDef"],["matColumnDef","accion"],["class","bg-darkest","mat-header-cell","","mat-sort-header","accion",4,"matHeaderCellDef"],["matColumnDef","fecha"],["class","bg-darkest","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"bg-darkest",3,"length","pageSize","pageSizeOptions"],[1,"modal-footer"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],["color","warn"],[1,"example-rate-limit-reached"],["mat-header-cell","","mat-sort-header","id",1,"bg-darkest"],["mat-cell","",1,"bg-dark"],["mat-header-cell","","mat-sort-header","user",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","accion",1,"bg-darkest"],["mat-header-cell","",1,"bg-darkest"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Sb(2,"img",2),o.Xb(3,"div",3),o.Xb(4,"section",4),o.Oc(5),o.Wb(),o.Xb(6,"section",5),o.Oc(7),o.Wb(),o.Wb(),o.Xb(8,"button",6),o.hc("click",function(){return t.actiModal.close()}),o.Xb(9,"span",7),o.Oc(10,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(11,"div",8),o.Xb(12,"div",9),o.Xb(13,"div",10),o.Mc(14,xt,3,2,"div",11),o.Xb(15,"div",12),o.Xb(16,"div",13),o.Xb(17,"table",14),o.Vb(18,15),o.Mc(19,Ot,2,0,"th",16),o.Mc(20,wt,2,1,"td",17),o.Ub(),o.Vb(21,18),o.Mc(22,Ct,2,0,"th",19),o.Mc(23,Mt,2,1,"td",17),o.Ub(),o.Vb(24,20),o.Mc(25,Wt,2,0,"th",21),o.Mc(26,Xt,2,1,"td",17),o.Ub(),o.Vb(27,22),o.Mc(28,Dt,2,0,"th",23),o.Mc(29,kt,2,1,"td",17),o.Ub(),o.Mc(30,yt,1,0,"tr",24),o.Mc(31,Pt,1,0,"tr",25),o.Wb(),o.Wb(),o.Sb(32,"mat-paginator",26),o.Wb(),o.Wb(),o.Wb(),o.Sb(33,"div",27),o.Wb(),o.Wb()),2&e&&(o.Db(2),o.rc("src",t.src_avatar,o.Hc),o.Db(3),o.Pc(t.user),o.Db(2),o.Pc(t.rol),o.Db(7),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(3),o.qc("dataSource",t.dataSource),o.Db(13),o.qc("matHeaderRowDef",t.displayedColumns),o.Db(1),o.qc("matRowDefColumns",t.displayedColumns),o.Db(1),o.qc("length",t.resultsLength)("pageSize",7)("pageSizeOptions",o.tc(10,St)))},directives:[p.m,V.j,Q.a,V.c,V.e,V.b,V.g,V.i,$.a,We.b,V.d,Q.b,V.a,V.f,V.h],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#f44336;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525}.bg-darkest[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f5f5f5}.full-container[_ngcontent-%COMP%]{padding-top:25px}td.mat-column-actions[_ngcontent-%COMP%]{width:130px;padding-right:8px}mat-form-field[_ngcontent-%COMP%]{margin-inline:10px}.encabezados-filtros[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filtros[_ngcontent-%COMP%]{max-height:80px}mat-label[_ngcontent-%COMP%]{font-size:11px}.mat-form-field-busqueda[_ngcontent-%COMP%]{max-width:300px}.row-visibility-none[_ngcontent-%COMP%]{display:none}.font-bold[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#fff}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important;opacity:.8!important}  .mat-input-element{caret-color:#fff!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#fff}"]}),e})();function It(e,t){1&e&&o.Sb(0,"mat-spinner",21)}function qt(e,t){if(1&e&&(o.Xb(0,"div",22),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.message_server," ")}}function Lt(e,t){if(1&e&&(o.Xb(0,"div",18),o.Mc(1,It,1,0,"mat-spinner",19),o.Mc(2,qt,2,1,"div",20),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function Ht(e,t){1&e&&(o.Xb(0,"th",23),o.Oc(1,"id"),o.Wb())}function At(e,t){if(1&e&&(o.Xb(0,"td",24),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.id)}}function zt(e,t){1&e&&(o.Xb(0,"th",25),o.Oc(1,"Usuario"),o.Wb())}function Ft(e,t){if(1&e&&(o.Xb(0,"td",24),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Qc(" ",e.username,"")}}function jt(e,t){1&e&&(o.Xb(0,"th",26),o.Oc(1,"Estado"),o.Wb())}function Et(e,t){1&e&&(o.Xb(0,"mat-icon",29),o.Oc(1,"wifi"),o.Wb())}function Tt(e,t){1&e&&(o.Xb(0,"mat-icon",30),o.Oc(1,"signal_wifi_off"),o.Wb())}function Ut(e,t){if(1&e&&(o.Xb(0,"td",24),o.Mc(1,Et,2,0,"mat-icon",27),o.Mc(2,Tt,2,0,"mat-icon",28),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.qc("ngIf","activo"==e.estado),o.Db(1),o.qc("ngIf","inactivo"==e.estado)}}function Bt(e,t){1&e&&(o.Xb(0,"th",31),o.Oc(1,"Acciones"),o.Wb())}function Nt(e,t){if(1&e){const e=o.Yb();o.Xb(0,"td",24),o.Xb(1,"button",32),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().verHistorial(i)}),o.Xb(2,"mat-icon"),o.Oc(3,"timeline"),o.Wb(),o.Wb(),o.Wb()}}function Qt(e,t){1&e&&o.Sb(0,"tr",33)}function $t(e,t){1&e&&o.Sb(0,"tr",34)}const Vt=function(){return[5,7,15,20,30]};let Yt=(()=>{class e{constructor(e,t){this.api=e,this.modalService=t,this.displayedColumns=["id","user","estado","actions"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.message_server="Hoalasds",this.title="Historial",this.icon="event_note",this.subtitle="Muestra el historial de todos los usuarios"}ngOnDestroy(){clearInterval(this.interval)}ngOnInit(){this.loadData(),this.interval=setInterval(()=>{this.loadData()},5e3)}loadData(){this.api.getUsersOnline().subscribe(e=>{e.length>0?(this.dataSource=new V.k(e),this.resultsLength=e.length,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isLoadingResults=!1):(this.dataSource=new V.k([]),this.resultsLength=0,this.isRateLimitReached=!0,this.isLoadingResults=!1,this.message_server="no hay usuarios registrados")},e=>{this.message_server=e.error.message,this.isLoadingResults=!1,this.isRateLimitReached=!0,this.resultsLength=0})}verHistorial(e){const t=this.modalService.open(Rt,{backdrop:"static"});t.componentInstance.user_id=e.user_id,t.componentInstance.user=e.username}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a),o.Rb(Pe.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-history-user"]],viewQuery:function(e,t){if(1&e&&(o.Tc($.a,1),o.Tc(Q.a,1)),2&e){let e;o.Ac(e=o.ic())&&(t.paginator=e.first),o.Ac(e=o.ic())&&(t.sort=e.first)}},decls:22,vars:12,consts:[[1,"full-container","bg-dark"],[3,"modal_header","modal_icon","modal_subheader","withAddButton"],[1,"example-container","mat-elevation-z4","bg-dark"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","matSortActive","created","matSortDisableClear","","matSortDirection","desc","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","id"],["class","bg-darkest","mat-header-cell","","mat-sort-header","id",4,"matHeaderCellDef"],["class","bg-dark","mat-cell","",4,"matCellDef"],["matColumnDef","user"],["class","bg-darkest","mat-header-cell","","mat-sort-header","user",4,"matHeaderCellDef"],["matColumnDef","estado"],["class","bg-darkest","mat-header-cell","","mat-sort-header","estado",4,"matHeaderCellDef"],["matColumnDef","actions"],["class","bg-darkest","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"bg-darkest",3,"length","pageSize","pageSizeOptions"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],["color","warn"],[1,"example-rate-limit-reached"],["mat-header-cell","","mat-sort-header","id",1,"bg-darkest"],["mat-cell","",1,"bg-dark"],["mat-header-cell","","mat-sort-header","user",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","estado",1,"bg-darkest"],["matTooltip","activo","class","text-success",4,"ngIf"],["matTooltip","inactivo","class","text-danger",4,"ngIf"],["matTooltip","activo",1,"text-success"],["matTooltip","inactivo",1,"text-danger"],["mat-header-cell","",1,"bg-darkest"],["type","button","matTooltip","ver historial",1,"btn","btn-outline-primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Sb(1,"app-top-bar",1),o.Xb(2,"div",2),o.Mc(3,Lt,3,2,"div",3),o.Xb(4,"div",2),o.Xb(5,"div",4),o.Xb(6,"table",5),o.Vb(7,6),o.Mc(8,Ht,2,0,"th",7),o.Mc(9,At,2,1,"td",8),o.Ub(),o.Vb(10,9),o.Mc(11,zt,2,0,"th",10),o.Mc(12,Ft,2,1,"td",8),o.Ub(),o.Vb(13,11),o.Mc(14,jt,2,0,"th",12),o.Mc(15,Ut,3,2,"td",8),o.Ub(),o.Vb(16,13),o.Mc(17,Bt,2,0,"th",14),o.Mc(18,Nt,4,0,"td",8),o.Ub(),o.Mc(19,Qt,1,0,"tr",15),o.Mc(20,$t,1,0,"tr",16),o.Wb(),o.Wb(),o.Sb(21,"mat-paginator",17),o.Wb(),o.Wb(),o.Wb()),2&e&&(o.Db(1),o.qc("modal_header",t.title)("modal_icon",t.icon)("modal_subheader",t.subtitle)("withAddButton",!1),o.Db(2),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(3),o.qc("dataSource",t.dataSource),o.Db(13),o.qc("matHeaderRowDef",t.displayedColumns),o.Db(1),o.qc("matRowDefColumns",t.displayedColumns),o.Db(1),o.qc("length",t.resultsLength)("pageSize",7)("pageSizeOptions",o.tc(11,Vt)))},directives:[Ue,p.m,V.j,Q.a,V.c,V.e,V.b,V.g,V.i,$.a,We.b,V.d,Q.b,V.a,oe.a,se.a,V.f,V.h],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px;margin-top:10px}.example-table-container[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#f44336;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525}.bg-darkest[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f5f5f5}.full-container[_ngcontent-%COMP%]{padding-top:25px;padding-inline:20px}td.mat-column-actions[_ngcontent-%COMP%]{width:130px;padding-right:8px}mat-form-field[_ngcontent-%COMP%]{margin-inline:10px}.encabezados-filtros[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filtros[_ngcontent-%COMP%]{max-height:80px}mat-label[_ngcontent-%COMP%]{font-size:11px}.mat-form-field-busqueda[_ngcontent-%COMP%]{max-width:300px}.row-visibility-none[_ngcontent-%COMP%]{display:none}.font-bold[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#fff}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important;opacity:.8!important}  .mat-input-element{caret-color:#fff!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#fff}"]}),e})();function Gt(e,t){if(1&e&&(o.Xb(0,"mat-icon",25),o.Oc(1," bookmark"),o.Wb()),2&e){const e=o.lc();o.rc("matTooltip",e.text_visibility)}}function Jt(e,t){if(1&e&&(o.Xb(0,"mat-icon",26),o.Oc(1," bookmark"),o.Wb()),2&e){const e=o.lc();o.rc("matTooltip",e.text_visibility)}}let Kt=(()=>{class e{constructor(e,t,i){this.activeModal=e,this.api=t,this.toastrService=i,this.modal_action="Agregar",this.modalHeader="",this.modalmessage="",this.hide=!0,this.hide1=!0,this.document=new o.o,this.form_document=new Y.g({id:new Y.d(""),title:new Y.d(""),descripcion:new Y.d(""),imagen:new Y.d(""),date:new Y.d("")}),this.src_document="./../../.././../ctc.png",this.src="./../../.././../ctc.png",this.colorEstado="#f00",this.form_document_past=new Y.g({id:new Y.d(""),title:new Y.d(""),descripcion:new Y.d(""),imagen:new Y.d(""),date:new Y.d("")}),this.disable_register=!0,this.text_visibility="",this.estado=!1,this.estado_past=!1,this.actiModal=this.activeModal}ngOnInit(){"Editar"==this.modal_action&&(this.form_document_past.value.title=this.form_document.value.title,this.form_document_past.value.descripcion=this.form_document.value.descripcion,this.form_document_past.value.imagen=this.form_document.value.imagen,this.form_document_past.value.date=this.form_document.value.date,this.estado=this.estado)}ActionDocument(){var e=new Date;this.form_document.value.date=Object(p.x)(e,"dd - MM - yyyy","en-US");let t=new FormData;if(console.log("uploadFiles",this.uploadFiles),null!=this.uploadFiles)for(let i=0;i<this.uploadFiles.length;i++)t.append("foto",this.uploadFiles[i],this.uploadFiles[i].name);t.append("id",this.form_document.value.id),t.append("title",this.form_document.value.title),t.append("descripcion",this.form_document.value.descripcion),t.append("imagen",this.form_document.value.imagen),t.append("date",this.form_document.value.date),t.append("estado",this.estado+""),console.log(this.estado),"Agregar"==this.modal_action?this.api.AddDocument(t).subscribe(e=>{this.activeModal.close(this.form_document.value),this.toastrService.success("El documento se a\xf1adio correctamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")}):this.api.updateDocument(this.form_document.value.id,t).subscribe(e=>{this.activeModal.close(this.form_document.value),this.toastrService.success("El documento se actualizo correctamente","Mensaje")},e=>{this.toastrService.error(e.error.message,"Error")})}validarCambio(){console.log("validar cambio",this.modal_action),this.disable_register="Editar"==this.modal_action?!this.validarCambioFormulario():!this.validarCamposVacios()}validarCambioFormulario(){return console.log(this.form_document.value.estado),this.form_document_past.value.title!=this.form_document.value.title||this.form_document_past.value.descripcion!=this.form_document.value.descripcion||this.src!=this.src_document||this.form_document_past.value.date!=this.form_document.value.date||this.estado_past!=this.estado}validarCamposVacios(){return""!=this.form_document.value.title&&""!=this.form_document.value.descripcion&&(""!=this.src_document||this.src_document!=this.src)}fileEvent(e){let t=e.target.files[0];this.uploadFiles=e.target.files;const i=new FileReader;i.onload=()=>{this.src_document=i.result},i.readAsDataURL(t)}onChangeSelectFilter(){}changeImage(){document.getElementById("imagefile").click()}deleteImage(){this.src_document=void 0}visibilidadChange(){console.log("visibilidad change"),this.estado=!this.estado,console.log(this.estado),this.text_visibility=this.estado?"privado":"publico",this.validarCambio()}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Pe.a),o.Rb(ye.a),o.Rb(Se.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-modal-document"]],outputs:{document:"document"},decls:37,vars:11,consts:[[1,"modal-content","bg-darkest",2,"border","0px"],[1,"modal-header","bg-warn"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"padding-top","5px"],[3,"formGroup"],[1,"contenedor"],[1,"icon-visibility",3,"click"],["id","icon","name","icon","class","text-danger icon","mat-card-avatar","",3,"matTooltip",4,"ngIf"],["id","icon","name","icon","class","text-success icon","mat-card-avatar","",3,"matTooltip",4,"ngIf"],[1,"img-thumbnail","rounded",2,"width","100%","height","150px",3,"src","click"],["id","src-file1",1,"file-select",2,"cursor","pointer",3,"hidden"],["id","imagefile","type","file","name","src-file1","aria-label","Imagen","accept","image/*",2,"cursor","pointer",3,"change"],["appearance","outline","color","warn",2,"margin-top","15px"],["matInput","","maxlength","20","placeholder","Titulo","formControlName","title","name","title","required","",3,"ngModelChange"],["title",""],["matSuffix",""],["align","end",2,"color","white"],["appearance","outline","color","warn"],["matInput","","maxlength","200","placeholder","Descripcion","formControlName","descripcion","name","descripcion",2,"overflow-y","scroll","scrollbar-width","none",3,"ngModelChange"],["descrip",""],["matSuffix","","type","button"],[1,"modal-footer"],["mat-raised-button","","color","warn","flex","","data-dismiss","modal",3,"disabled","click"],["id","icon","name","icon","mat-card-avatar","",1,"text-danger","icon",3,"matTooltip"],["id","icon","name","icon","mat-card-avatar","",1,"text-success","icon",3,"matTooltip"]],template:function(e,t){if(1&e&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"h2",2),o.Oc(3),o.Wb(),o.Xb(4,"button",3),o.hc("click",function(){return t.actiModal.close()}),o.Xb(5,"span",4),o.Oc(6,"\xd7"),o.Wb(),o.Wb(),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"form",6),o.Xb(9,"div",7),o.Xb(10,"div",8),o.hc("click",function(){return t.visibilidadChange()}),o.Mc(11,Gt,2,1,"mat-icon",9),o.Mc(12,Jt,2,1,"mat-icon",10),o.Wb(),o.Xb(13,"img",11),o.hc("click",function(){return t.changeImage()}),o.Wb(),o.Xb(14,"div",12),o.Xb(15,"input",13),o.hc("change",function(e){return t.fileEvent(e)}),o.Wb(),o.Wb(),o.Xb(16,"mat-form-field",14),o.Xb(17,"mat-label"),o.Oc(18,"Titulo"),o.Wb(),o.Xb(19,"input",15,16),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(21,"mat-icon",17),o.Oc(22,"title"),o.Wb(),o.Xb(23,"mat-hint",18),o.Oc(24),o.Wb(),o.Wb(),o.Xb(25,"mat-form-field",19),o.Xb(26,"mat-label"),o.Oc(27,"Descripcion"),o.Wb(),o.Xb(28,"textarea",20,21),o.hc("ngModelChange",function(){return t.validarCambio()}),o.Wb(),o.Xb(30,"mat-icon",22),o.Oc(31,"description"),o.Wb(),o.Xb(32,"mat-hint",18),o.Oc(33),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(34,"div",23),o.Xb(35,"button",24),o.hc("click",function(){return t.ActionDocument()}),o.Oc(36),o.Wb(),o.Wb(),o.Wb()),2&e){const e=o.Bc(20),i=o.Bc(29);o.Db(3),o.Rc("",t.modal_action," ",t.modalHeader,""),o.Db(5),o.qc("formGroup",t.form_document),o.Db(3),o.qc("ngIf",1==t.estado),o.Db(1),o.qc("ngIf",0==t.estado),o.Db(1),o.qc("src",t.src_document,o.Hc),o.Db(1),o.qc("hidden",!0),o.Db(10),o.Qc("",e.value.length," / 20"),o.Db(9),o.Qc("",i.value.length," / 200"),o.Db(2),o.qc("disabled",t.disable_register),o.Db(1),o.Qc("",t.modal_action," documento")}},directives:[Y.x,Y.o,Y.h,p.m,Re.b,Re.f,Z.b,Y.c,Y.j,Y.n,Y.f,Y.u,oe.a,Re.g,Re.e,ne.a,G.c],styles:['.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:600px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}.bg-warn[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.contenedor-image[_ngcontent-%COMP%]{display:block;flex-direction:row;margin:0;max-height:400px}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.file-select[_ngcontent-%COMP%]:before{background-color:#f44336;color:#fff;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;left:0;right:0;top:0;bottom:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Seleccionar Imagen"}.image[_ngcontent-%COMP%]{float:none;position:relative}.icon-visibility[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.icon[_ngcontent-%COMP%]{font-size:40px;cursor:pointer}']}),e})();function Zt(e,t){if(1&e&&(o.Xb(0,"mat-icon",13),o.Oc(1," bookmark"),o.Wb()),2&e){const e=o.lc();o.rc("matTooltip",e.estado_text)}}function ei(e,t){if(1&e&&(o.Xb(0,"mat-icon",14),o.Oc(1," bookmark"),o.Wb()),2&e){const e=o.lc();o.rc("matTooltip",e.estado_text)}}let ti=(()=>{class e{constructor(e,t){this.api=e,this.modalService=t,this.id=-1,this.src_document="./../../../../../ctc.png",this.date="",this.title="",this.description="",this.estado=!1,this.emisor=new o.o,this.estado_text="public",this.loading=!1}ngOnInit(){this.estado&&(this.estado_text="private"),this.api.getDocumentsFoto(this.id).subscribe(e=>{this.src_document=e+""},e=>{this.src_document=e.url})}ngAfterViewInit(){setTimeout(()=>{this.finishLoading()},1500)}deleteDocument(){var e=this.modalService.open(Ne);e.componentInstance.modalHeader="Documento",e.componentInstance.id=this.id,e.result.then(e=>{e&&this.emisor.emit(!0)})}updateDocument(){const e=this.modalService.open(Kt,{size:"sm"});let t=new Y.g({id:new Y.d(this.id),title:new Y.d(this.title),descripcion:new Y.d(this.description),imagen:new Y.d(this.title+".jpg"),date:new Y.d(this.date)});e.componentInstance.modalHeader="documentos",e.componentInstance.modalmessage="Se debe rellenar todos los campos marcados con un asterisco",e.componentInstance.modal_action="Editar",e.componentInstance.form_document=t,e.componentInstance.src_document=this.src_document,e.componentInstance.estado=this.estado,e.result.then(e=>{e&&this.emisor.emit(!0)})}finishLoading(){this.loading=!0}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a),o.Rb(Pe.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-document-item"]],inputs:{id:"id",src_document:"src_document",date:"date",title:"title",description:"description",estado:"estado"},outputs:{emisor:"emisor"},decls:22,vars:8,consts:[[1,"bg-darkest","item-document",2,"width","400px","height","300px","max-width","270px"],["id","icon","name","icon","class","text-danger","mat-card-avatar","",3,"matTooltip",4,"ngIf"],["id","icon","name","icon","class","text-success","mat-card-avatar","",3,"matTooltip",4,"ngIf"],[2,"font-size","medium","color","#f44336"],[2,"font-size","xx-small","color","white"],["mat-icon-button","",2,"position","absolute","right","5px","top","5px",3,"matMenuTriggerFor"],[1,"bg-dark"],["menu","matMenu"],["mat-menu-item","",2,"color","white",3,"click"],[1,"text-center"],[1,"img-thumbnail",2,"height","150px","width","100%",3,"src"],[1,"texto",2,"font-size","small","margin-top","10px",3,"matTooltip"],["align","start"],["id","icon","name","icon","mat-card-avatar","",1,"text-danger",3,"matTooltip"],["id","icon","name","icon","mat-card-avatar","",1,"text-success",3,"matTooltip"]],template:function(e,t){if(1&e&&(o.Xb(0,"mat-card",0),o.Xb(1,"mat-card-header"),o.Mc(2,Zt,2,1,"mat-icon",1),o.Mc(3,ei,2,1,"mat-icon",2),o.Xb(4,"mat-card-title",3),o.Oc(5),o.Wb(),o.Xb(6,"mat-card-subtitle",4),o.Oc(7),o.Wb(),o.Xb(8,"button",5),o.Xb(9,"mat-icon"),o.Oc(10,"more_vert"),o.Wb(),o.Wb(),o.Xb(11,"mat-menu",6,7),o.Xb(13,"button",8),o.hc("click",function(){return t.updateDocument()}),o.Oc(14,"actualizar"),o.Wb(),o.Xb(15,"button",8),o.hc("click",function(){return t.deleteDocument()}),o.Oc(16,"eliminar"),o.Wb(),o.Wb(),o.Wb(),o.Xb(17,"div",9),o.Sb(18,"img",10),o.Wb(),o.Xb(19,"mat-card-content",11),o.Oc(20),o.Wb(),o.Sb(21,"mat-card-actions",12),o.Wb()),2&e){const e=o.Bc(12);o.Db(2),o.qc("ngIf",t.estado),o.Db(1),o.qc("ngIf",!t.estado),o.Db(2),o.Pc(t.title),o.Db(2),o.Pc(t.date),o.Db(1),o.qc("matMenuTriggerFor",e),o.Db(10),o.qc("src",t.src_document,o.Hc),o.Db(1),o.rc("matTooltip",t.description),o.Db(1),o.Qc(" ",t.description," ")}},directives:[G.a,G.e,p.m,G.i,G.h,ne.a,re.d,oe.a,re.a,re.b,G.d,se.a,G.b,G.c],styles:[".bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5;box-shadow:2px 2px 2px 2px rgba(0,0,0,.2)}.texto[_ngcontent-%COMP%]{max-height:50px;overflow-y:scroll;scrollbar-width:none}.item-document[_ngcontent-%COMP%]{max-height:400px;max-width:300px;box-shadow:2px 2px 2px 2px rgba(0,0,0,.2);margin-left:10px;margin-right:10px;transition:.2s}.item-document[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:.5s}.example-loading-shade[_ngcontent-%COMP%]{top:20;left:0;right:0;z-index:1;display:flex;align-items:center;justify-content:center}"]}),e})();function ii(e,t){1&e&&o.Sb(0,"mat-spinner",20)}function oi(e,t){if(1&e&&(o.Xb(0,"div",21),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.server_message," ")}}function ai(e,t){if(1&e&&(o.Xb(0,"div",17),o.Mc(1,ii,1,0,"mat-spinner",18),o.Mc(2,oi,2,1,"div",19),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function ni(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-grid-tile"),o.Xb(1,"app-document-item",24),o.hc("emisor",function(t){return o.Fc(e),o.lc(2).onDelete(t)}),o.Wb(),o.Wb()}if(2&e){const e=t.$implicit;o.Db(1),o.qc("estado",e.estado)("title",e.title)("description",e.descripcion)("date",e.date)("src_document",e.imagen)("id",e.id)}}function ri(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-grid-list",22),o.hc("resize",function(t){return o.Fc(e),o.lc().onResize(t)},!1,o.Ec),o.Mc(1,ni,2,6,"mat-grid-tile",23),o.Wb()}if(2&e){const e=o.lc();o.qc("cols",e.breakpoint),o.Db(1),o.qc("ngForOf",e.documentos)}}let si=(()=>{class e{constructor(e){this.api=e,this.title="Documentos Secretos",this.subtitle="Vista privada no para todos los usuarios",this.icon="assignment",this.documentos=[],this.documentos_reser=[],this.isLoadingResults=!0,this.isRateLimitReached=!1,this.filtro_visivility="pyp",this.filtro=""}ngOnInit(){this.loadData()}onResize(e){const t=e.target.innerHeight;this.redimensionarListaWidth(e.target.innerWidth),this.redimensionarListaHeigth(t)}redimensionarListaWidth(e){this.breakpoint=e<=597?1:e<=870?2:e<=1085?3:4}redimensionarListaHeigth(e){const t=e-290;console.log(t),document.getElementById("lista").style.height=t+"px"}registerOrUpdate(e){this.loadData()}loadData(){this.isLoadingResults=!0,this.api.getDocuments(1,this.filtro_visivility).subscribe(e=>{e.length>0?(this.documentos=e,this.documentos_reser=e,this.isLoadingResults=!1):(this.documentos=[],this.documentos_reser=[],this.isLoadingResults=!1,this.server_message="No hay documentos en estos momentos"),this.iniLista()},e=>{console.log(e),this.isLoadingResults=!1,this.isRateLimitReached=!0,this.server_message="El servidor no esta disponible en estos momentos",this.iniLista()})}onDelete(e){this.loadData()}iniLista(){if(!this.isLoadingResults){var e=document.getElementById("lista");this.redimensionarListaWidth(e.clientWidth)}}filtroAll(){this.documentos=this.documentos_reser.filter(e=>-1!==e.title.toLowerCase().indexOf(this.filtro.toLowerCase()))}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-document-list"]],decls:25,vars:8,consts:[[1,"bg-dark","full-container"],[3,"modal_header","modal_icon","modal_subheader","emisor"],[1,"row","bg-darkest","filtros","mat-elevation-z4",2,"padding","10px","margin-top","10px","margin-inline","0px","height","70px"],[1,"col-md-10"],[1,"example-section"],[2,"display","block",3,"ngModel","ngModelChange"],["value","pyp","color","warn",2,"margin-right","10px","color","white",3,"checked"],["value","public","color","warn",2,"margin-right","10px","color","white"],["value","private","color","warn",2,"margin-right","10px","color","white"],[1,"col-md-2"],[2,"position","absolute","right","0","margin-right","15px"],["appearance","outline","color","warn"],["matInput","","placeholder","Escriba criterio de busqueda ...","name","filtro",2,"color","white",3,"ngModel","ngModelChange"],["matSuffix",""],["id","lista",1,"lista-document"],["class","example-loading-shade",4,"ngIf"],["rowHeight","1.6:2",3,"cols","resize",4,"ngIf"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached","style","color: #f44336;",4,"ngIf"],["color","warn"],[1,"example-rate-limit-reached",2,"color","#f44336"],["rowHeight","1.6:2",3,"cols","resize"],[4,"ngFor","ngForOf"],[3,"estado","title","description","date","src_document","id","emisor"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"app-top-bar",1),o.hc("emisor",function(e){return t.registerOrUpdate(e)}),o.Wb(),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"section",4),o.Xb(5,"label"),o.Oc(6,"Visibilidad"),o.Wb(),o.Xb(7,"mat-radio-group",5),o.hc("ngModelChange",function(e){return t.filtro_visivility=e})("ngModelChange",function(){return t.loadData()}),o.Xb(8,"mat-radio-button",6),o.Oc(9,"publico y privado"),o.Wb(),o.Xb(10,"mat-radio-button",7),o.Oc(11,"publico"),o.Wb(),o.Xb(12,"mat-radio-button",8),o.Oc(13,"privado"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(14,"div",9),o.Xb(15,"section",10),o.Xb(16,"mat-form-field",11),o.Xb(17,"mat-label"),o.Oc(18,"Filtrar por titulo"),o.Wb(),o.Xb(19,"input",12),o.hc("ngModelChange",function(e){return t.filtro=e})("ngModelChange",function(){return t.filtroAll()}),o.Wb(),o.Xb(20,"mat-icon",13),o.Oc(21,"search"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(22,"div",14),o.Mc(23,ai,3,2,"div",15),o.Mc(24,ri,2,2,"mat-grid-list",16),o.Wb(),o.Wb()),2&e&&(o.Db(1),o.qc("modal_header",t.title)("modal_icon",t.icon)("modal_subheader",t.subtitle),o.Db(6),o.qc("ngModel",t.filtro_visivility),o.Db(1),o.qc("checked",!0),o.Db(11),o.qc("ngModel",t.filtro),o.Db(4),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(1),o.qc("ngIf",!t.isLoadingResults))},directives:[Ue,J.b,Y.n,Y.q,J.a,Re.b,Re.f,Z.b,Y.c,oe.a,Re.g,p.m,We.b,Ce,p.l,pe,ti],styles:[".full-container[_ngcontent-%COMP%]{padding-top:25px;padding-inline:20px}.lista-document[_ngcontent-%COMP%]{margin-top:20px;height:400px;overflow-y:scroll;scrollbar-width:none}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:20;left:0;right:0;z-index:1;display:flex;align-items:center;justify-content:center}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f44336}.filtros[_ngcontent-%COMP%]{margin-inline:20px;height:50px;border-radius:5px}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#f44336}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336!important;opacity:.8!important}  .mat-input-element{caret-color:#f44336!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#f44336}"]}),e})(),ci=(()=>{class e{constructor(e,t){this.api=e,this.modalService=t,this.id=-1,this.src_document="ctc.png",this.fecha="",this.titulo="",this.no=-1,this.procedencia="",this.movimiento1="",this.movimiento2="",this.destruccion="",this.expediente="",this.observacion="",this.emisor=new o.o}ngOnInit(){this.api.getDocumentsLimitFoto(this.id).subscribe(e=>{this.src_document=e+""},e=>{this.src_document=e.url})}deleteDocument(){var e=this.modalService.open(Ne);e.componentInstance.modalHeader="Documento Limitado",e.componentInstance.id=this.id,e.result.then(e=>{e&&this.emisor.emit(!0)})}updateDocument(){const e=this.modalService.open(Ie,{backdrop:!1});let t=new Y.g({id:new Y.d(this.id),no:new Y.d(this.no),titulo:new Y.d(this.titulo),fecha:new Y.d(this.fecha),procedencia:new Y.d(this.procedencia),movimiento1:new Y.d(this.movimiento1),movimiento2:new Y.d(this.movimiento2),destruccion:new Y.d(this.destruccion),expediente:new Y.d(this.expediente),observacion:new Y.d(this.observacion),imagen:new Y.d(this.no)});e.componentInstance.modalHeader="Documentos Limitados",e.componentInstance.modalmessage="Se debe rellenar todos los campos marcados con un asterisco",e.componentInstance.modal_action="Editar",e.componentInstance.form_document=t,e.componentInstance.src_document=this.src_document,e.result.then(e=>{e&&this.emisor.emit(!0)})}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a),o.Rb(Pe.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-documento-limitado-item"]],inputs:{id:"id",src_document:"src_document",fecha:"fecha",titulo:"titulo",no:"no",procedencia:"procedencia",movimiento1:"movimiento1",movimiento2:"movimiento2",destruccion:"destruccion",expediente:"expediente",observacion:"observacion"},outputs:{emisor:"emisor"},decls:22,vars:5,consts:[[1,"bg-darkest","item-document",2,"width","400px","height","300px","max-width","270px"],["name","no","mat-card-avatar","",1,"text-danger"],["mat-icon-button","",2,"position","absolute","right","5px","top","5px",3,"matMenuTriggerFor"],[1,"bg-dark"],["menu","matMenu"],["mat-menu-item","",2,"color","white",3,"click"],[1,"text-center"],["mat-card-image","",2,"height","150px","width","100%",3,"src"],[1,"texto",2,"font-size","small","margin-top","10px"],[2,"font-size","medium","color","#f44336"],["align","start"]],template:function(e,t){if(1&e&&(o.Xb(0,"mat-card",0),o.Xb(1,"mat-card-header"),o.Sb(2,"div",1),o.Xb(3,"button",2),o.Xb(4,"mat-icon"),o.Oc(5,"more_vert"),o.Wb(),o.Wb(),o.Xb(6,"mat-menu",3,4),o.Xb(8,"button",5),o.hc("click",function(){return t.updateDocument()}),o.Oc(9,"actualizar"),o.Wb(),o.Xb(10,"button",5),o.hc("click",function(){return t.deleteDocument()}),o.Oc(11,"eliminar"),o.Wb(),o.Wb(),o.Wb(),o.Xb(12,"div",6),o.Sb(13,"img",7),o.Wb(),o.Xb(14,"mat-card-content",8),o.Xb(15,"mat-card-title",9),o.Oc(16),o.Wb(),o.Xb(17,"p"),o.Oc(18),o.Wb(),o.Xb(19,"p"),o.Oc(20),o.Wb(),o.Wb(),o.Sb(21,"mat-card-actions",10),o.Wb()),2&e){const e=o.Bc(7);o.Db(3),o.qc("matMenuTriggerFor",e),o.Db(10),o.qc("src",t.src_document,o.Hc),o.Db(3),o.Pc(t.titulo),o.Db(2),o.Pc(t.fecha),o.Db(2),o.Pc(t.expediente)}},directives:[G.a,G.e,G.c,ne.a,re.d,oe.a,re.a,re.b,G.f,G.d,G.i,G.b],styles:[".bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5;box-shadow:2px 2px 2px 2px rgba(0,0,0,.2)}.card[_ngcontent-%COMP%]{margin:10px;overflow-y:scroll;scrollbar-width:none;height:100%;width:100%;padding-bottom:20px;font-size:10px}.bubble[_ngcontent-%COMP%]{height:30px;width:30px;box-shadow:2px 2px 2px 2px rgba(0,0,0,.2);text-align:center;margin-inline:10px}.bubble[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center}.header[_ngcontent-%COMP%]{position:absolute;top:20px;flex-direction:row}"]}),e})();function li(e,t){1&e&&o.Sb(0,"mat-spinner",15)}function di(e,t){if(1&e&&(o.Xb(0,"div",16),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.server_message," ")}}function mi(e,t){if(1&e&&(o.Xb(0,"div",12),o.Mc(1,li,1,0,"mat-spinner",13),o.Mc(2,di,2,1,"div",14),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function ui(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-grid-tile"),o.Xb(1,"app-documento-limitado-item",19),o.hc("emisor",function(t){return o.Fc(e),o.lc(2).registerOrUpdateOrDelete(t)}),o.Wb(),o.Wb()}if(2&e){const e=t.$implicit;o.Db(1),o.qc("id",e.id)("no",e.no)("titulo",e.titulo)("fecha",e.fecha)("procedencia",e.procedencia)("movimiento1",e.movimiento1)("movimiento2",e.movimiento2)("destruccion",e.destruccion)("expediente",e.expediente)("observacion",e.observacion)}}function bi(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-grid-list",17),o.hc("resize",function(t){return o.Fc(e),o.lc().onResize(t)},!1,o.Ec),o.Mc(1,ui,2,10,"mat-grid-tile",18),o.Wb()}if(2&e){const e=o.lc();o.qc("cols",e.breakpoint),o.Db(1),o.qc("ngForOf",e.documentos)}}let hi=(()=>{class e{constructor(e){this.api=e,this.title="Documentos Limitados",this.subtitle="Vista privada no para todos los usuarios",this.icon="assignment",this.documentos=[],this.documentos_reser=[],this.isLoadingResults=!0,this.isRateLimitReached=!1,this.filtro_visivility="pyp",this.filtro=""}ngOnInit(){this.loadData()}registerOrUpdate(e){}loadData(){this.isLoadingResults=!0,this.api.getDocumentsLimit(1).subscribe(e=>{e.length>0?(this.documentos=e,this.documentos_reser=e,this.isLoadingResults=!1):(this.documentos=[],this.documentos_reser=[],this.isLoadingResults=!1,this.server_message="No hay documentos en estos momentos"),this.iniLista()},e=>{console.log(e),this.isLoadingResults=!1,this.isRateLimitReached=!0,this.server_message="El servidor no esta disponible en estos momentos",this.iniLista()})}onResize(e){const t=e.target.innerHeight;this.redimensionarListaWidth(e.target.innerWidth),this.redimensionarListaHeigth(t)}redimensionarListaWidth(e){this.breakpoint=e<=597?1:e<=870?2:e<=1085?3:4}redimensionarListaHeigth(e){const t=e-290;document.getElementById("lista").style.height=t+"px"}iniLista(){if(!this.isLoadingResults){var e=document.getElementById("lista");this.redimensionarListaWidth(e.clientWidth)}}onDelete(e){this.loadData()}filtroAll(){this.documentos=this.documentos_reser.filter(e=>-1!==e.title.toLowerCase().indexOf(this.filtro.toLowerCase()))}registerOrUpdateOrDelete(e){e&&this.loadData()}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-documento-limitado"]],decls:15,vars:6,consts:[[1,"bg-dark","full-container"],[3,"modal_header","modal_icon","modal_subheader","emisor"],[1,"row","bg-darkest","filtros","mat-elevation-z4",2,"padding","10px","margin-top","10px","margin-inline","0px","height","70px"],[1,"col-md-10"],[1,"col-md-2"],[2,"position","absolute","right","0","margin-right","15px"],["appearance","outline","color","warn"],["matInput","","placeholder","Escriba criterio de busqueda ...","name","filtro",2,"color","white",3,"ngModel","ngModelChange"],["matSuffix",""],["id","lista",1,"lista-document"],["class","example-loading-shade",4,"ngIf"],["rowHeight","1.6:2",3,"cols","resize",4,"ngIf"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached","style","color: #f44336;",4,"ngIf"],["color","warn"],[1,"example-rate-limit-reached",2,"color","#f44336"],["rowHeight","1.6:2",3,"cols","resize"],[4,"ngFor","ngForOf"],[3,"id","no","titulo","fecha","procedencia","movimiento1","movimiento2","destruccion","expediente","observacion","emisor"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"app-top-bar",1),o.hc("emisor",function(e){return t.registerOrUpdateOrDelete(e)}),o.Wb(),o.Xb(2,"div",2),o.Sb(3,"div",3),o.Xb(4,"div",4),o.Xb(5,"section",5),o.Xb(6,"mat-form-field",6),o.Xb(7,"mat-label"),o.Oc(8,"Filtrar por titulo"),o.Wb(),o.Xb(9,"input",7),o.hc("ngModelChange",function(e){return t.filtro=e})("ngModelChange",function(){return t.filtroAll()}),o.Wb(),o.Xb(10,"mat-icon",8),o.Oc(11,"search"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(12,"div",9),o.Mc(13,mi,3,2,"div",10),o.Mc(14,bi,2,2,"mat-grid-list",11),o.Wb(),o.Wb()),2&e&&(o.Db(1),o.qc("modal_header",t.title)("modal_icon",t.icon)("modal_subheader",t.subtitle),o.Db(8),o.qc("ngModel",t.filtro),o.Db(4),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(1),o.qc("ngIf",!t.isLoadingResults))},directives:[Ue,Re.b,Re.f,Z.b,Y.c,Y.n,Y.q,oe.a,Re.g,p.m,We.b,Ce,p.l,pe,ci],styles:[".full-container[_ngcontent-%COMP%]{padding-top:25px;padding-inline:20px}.lista-document[_ngcontent-%COMP%]{margin-top:20px;height:400px;overflow-y:scroll;scrollbar-width:none}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:20;left:0;right:0;z-index:1;display:flex;align-items:center;justify-content:center}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f44336}.filtros[_ngcontent-%COMP%]{margin-inline:20px;height:50px;border-radius:5px}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#f44336}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336!important;opacity:.8!important}  .mat-input-element{caret-color:#f44336!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#f44336}"]}),e})();var pi=i("f0Cb");function gi(e,t){1&e&&o.Sb(0,"mat-spinner",39)}function fi(e,t){if(1&e&&(o.Xb(0,"div",40),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.message_server," ")}}function _i(e,t){if(1&e&&(o.Xb(0,"div",36),o.Mc(1,gi,1,0,"mat-spinner",37),o.Mc(2,fi,2,1,"div",38),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function vi(e,t){if(1&e&&(o.Xb(0,"span",41),o.Oc(1),o.Wb()),2&e){const e=o.lc();o.Db(1),o.Rc(" (+",e.toppings.value.length-1," ",2===(null==e.toppings.value?null:e.toppings.value.length)?"other":"others",") ")}}function xi(e,t){if(1&e&&(o.Xb(0,"mat-option",42),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.qc("value",e),o.Db(1),o.Pc(e)}}function Oi(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-form-field",43),o.Xb(1,"mat-label"),o.Oc(2,"Descripcion"),o.Wb(),o.Xb(3,"input",44,45),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().filtro_description=t}),o.Wb(),o.Xb(5,"mat-icon",10),o.Oc(6,"description"),o.Wb(),o.Wb()}if(2&e){const e=o.lc();o.Db(3),o.qc("ngModel",e.filtro_description)}}function wi(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-form-field",43),o.Xb(1,"mat-label"),o.Oc(2,"Nombre del rol"),o.Wb(),o.Xb(3,"input",46,47),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().filtro_rol_name=t}),o.Wb(),o.Xb(5,"mat-icon",10),o.Oc(6,"account_box"),o.Wb(),o.Wb()}if(2&e){const e=o.lc();o.Db(3),o.qc("ngModel",e.filtro_rol_name)}}function Ci(e,t){1&e&&(o.Xb(0,"th",48),o.Oc(1,"id"),o.Wb())}function Mi(e,t){if(1&e&&(o.Xb(0,"td",49),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.id)}}function Wi(e,t){1&e&&(o.Xb(0,"th",50),o.Oc(1,"Nombre del rol"),o.Wb())}function Xi(e,t){if(1&e&&(o.Xb(0,"td",49),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.rol_name)}}function Di(e,t){1&e&&(o.Xb(0,"th",51),o.Oc(1,"Descripcion"),o.Wb())}function ki(e,t){if(1&e&&(o.Xb(0,"td",49),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.description)}}function yi(e,t){1&e&&(o.Xb(0,"th",52),o.Oc(1,"Acciones"),o.Wb())}function Pi(e,t){if(1&e){const e=o.Yb();o.Xb(0,"td",49),o.Xb(1,"button",53),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().actualizarRol(i)}),o.Xb(2,"mat-icon"),o.Oc(3,"edit"),o.Wb(),o.Wb(),o.Xb(4,"button",54),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().asignarPermisos(i.rol_name,i.id)}),o.Xb(5,"mat-icon"),o.Oc(6,"assignment"),o.Wb(),o.Wb(),o.Xb(7,"button",55),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().eliminarRol(i.id)}),o.Xb(8,"mat-icon"),o.Oc(9,"delete"),o.Wb(),o.Wb(),o.Wb()}}function Si(e,t){1&e&&o.Sb(0,"tr",56)}function Ri(e,t){1&e&&o.Sb(0,"tr",57)}const Ii=function(e){return{"row-visibility-none":e}},qi=function(){return[5,7,15,20,30]};let Li=(()=>{class e{constructor(e,t){this.api=e,this.modalService=t,this.displayedColumns=["id","rol_name","description","actions"],this.toppings=new Y.d,this.toppingList=["description","nombre de rol"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.filter="",this.filtro_description="",this.filtro_rol_name="",this.filtro_description_view=!1,this.filtro_rol_name_view=!1,this.top_bar_title="Roles",this.top_bar_subtitle="Roles registrados",this.top_bar_icon="account_box",this.filtros_row=!1,this.message_server=""}ngAfterViewInit(){this.loadData()}loadData(){this.api.ObtenerRoles(this.filtro_rol_name,this.filtro_description).subscribe(e=>{e.length>0?(this.isLoadingResults=!1,this.array_roles=e,this.isRateLimitReached=!1,this.dataSource=new V.k(e),this.resultsLength=e.length,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort):(this.array_roles=[],this.dataSource=new V.k([]),this.resultsLength=0,this.isLoadingResults=!1,this.isRateLimitReached=!0,this.message_server="No hay roles registrados")},e=>{this.isLoadingResults=!1,this.isRateLimitReached=!0,this.message_server=e.error.message})}resetPaging(){this.paginator.pageIndex=0}registerOrUpdate(e){this.loadData()}actualizarRol(e){var t=this.modalService.open(He);t.componentInstance.modalHeader="Rol",t.componentInstance.modalmessage="Debe al menos modificar uno de los campos",t.componentInstance.modal_action="Editar",t.componentInstance.id=e.id,t.componentInstance.rol_name=e.rol_name,t.componentInstance.description_model=e.description,t.result.then(e=>{e&&this.loadData()})}eliminarRol(e){var t=this.modalService.open(Ne);t.componentInstance.modalHeader="Rol",t.componentInstance.id=e,t.result.then(e=>{e&&this.loadData()})}filtrarTodo(){this.dataSource.filter=this.filter.trim().toLowerCase()}onChangeSelectFilter(){this.filtros_row=-1!=this.toppings.value.indexOf("description")||-1!=this.toppings.value.indexOf("nombre de rol"),this.filtro_description_view=-1!=this.toppings.value.indexOf("description"),this.filtro_rol_name_view=-1!=this.toppings.value.indexOf("nombre de rol")}sortData(e){const t=this.array_roles.slice();this.sortedData=e.active&&""!==e.direction?t.sort((t,i)=>{const o="asc"===e.direction;switch(e.active){case"id":return Hi(t.id,i.id,o);case"rol_name":return Hi(t.rol_name,i.rol_name,o);case"description":return Hi(t.description,i.description,o);default:return 0}}):t}isSearch(){return""!=this.filtro_description||""!=this.filtro_rol_name}asignarPermisos(e,t){var i=this.modalService.open(Le);i.componentInstance.modalHeader="Permisos",i.componentInstance.modal_action="Asignar",i.componentInstance.rol_name=e,i.componentInstance.rol_id=t,i.result.then(e=>{e&&this.loadData()})}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a),o.Rb(Pe.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-table-roles"]],viewQuery:function(e,t){if(1&e&&(o.Tc($.a,1),o.Tc(Q.a,1)),2&e){let e;o.Ac(e=o.ic())&&(t.paginator=e.first),o.Ac(e=o.ic())&&(t.sort=e.first)}},decls:50,vars:22,consts:[[1,"full-container","bg-dark"],[3,"modal_header","modal_icon","modal_subheader","emisor"],[1,"example-container","mat-elevation-z4","bg-dark"],["class","example-loading-shade",4,"ngIf"],[1,"row","bg-darkest","filtros",2,"padding-left","10px","margin-top","10px","margin-inline","0px"],[1,"encabezados-filtros","col-md-3"],[1,"font-bold",2,"margin-left","10px"],["appearance","outline","color","warn",1,"mat-form-field-busqueda"],["matInput","","maxlength","20","placeholder","nombre completo....","name","filtrotodo",3,"ngModel","ngModelChange"],["filterall",""],["matSuffix",""],[1,"col-md-5"],["appearance","outline",2,"margin-top","20px"],[2,"color","white"],["multiple","",3,"formControl","selectionChange"],[2,"color","white","font-size","11px"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"row","bg-darkest","filtros",2,"padding-left","10px","padding-top","20px","margin-inline","0px",3,"ngClass"],["appearance","outline","color","warn",4,"ngIf"],["mat-raised-button","","color","warn","flex","",2,"height","40px","margin-top","10px",3,"disabled","click"],[1,"mat-18"],[1,"example-table-container"],["mat-table","","matSortActive","created","matSortDisableClear","","matSortDirection","desc","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","id"],["class","bg-darkest","mat-header-cell","","mat-sort-header","id",4,"matHeaderCellDef"],["class","bg-dark","mat-cell","",4,"matCellDef"],["matColumnDef","rol_name"],["class","bg-darkest","mat-header-cell","","mat-sort-header","rol_name",4,"matHeaderCellDef"],["matColumnDef","description"],["class","bg-darkest","mat-header-cell","","mat-sort-header","description",4,"matHeaderCellDef"],["matColumnDef","actions"],["class","bg-darkest","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"bg-darkest",3,"length","pageSize","pageSizeOptions"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],["color","warn"],[1,"example-rate-limit-reached"],[1,"example-additional-selection"],[3,"value"],["appearance","outline","color","warn"],["matInput","","maxlength","20","placeholder","usuario","name","filtro_description",3,"ngModel","ngModelChange"],["description_filter",""],["matInput","","maxlength","20","placeholder","nombre del rol","name","filtro_rol_name",3,"ngModel","ngModelChange"],["rol_name_filter",""],["mat-header-cell","","mat-sort-header","id",1,"bg-darkest"],["mat-cell","",1,"bg-dark"],["mat-header-cell","","mat-sort-header","rol_name",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","description",1,"bg-darkest"],["mat-header-cell","",1,"bg-darkest"],["type","button","matTooltip","Editar",1,"btn","btn-outline-warning",3,"click"],["type","button","matTooltip","Asignar permisos",1,"btn","btn-outline-success",3,"click"],["type","button","matTooltip","Eliminar",1,"btn","btn-outline-danger",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"app-top-bar",1),o.hc("emisor",function(e){return t.registerOrUpdate(e)}),o.Wb(),o.Xb(2,"div",2),o.Mc(3,_i,3,2,"div",3),o.Xb(4,"div",4),o.Xb(5,"div",5),o.Xb(6,"mat-label",6),o.Oc(7,"Filtro: "),o.Wb(),o.Xb(8,"mat-form-field",7),o.Xb(9,"mat-label"),o.Oc(10,"Escriba el criterio de busqueda"),o.Wb(),o.Xb(11,"input",8,9),o.hc("ngModelChange",function(e){return t.filter=e})("ngModelChange",function(){return t.filtrarTodo()}),o.Wb(),o.Xb(13,"mat-icon",10),o.Oc(14,"search"),o.Wb(),o.Wb(),o.Wb(),o.Xb(15,"div",11),o.Xb(16,"mat-form-field",12),o.Xb(17,"mat-label",13),o.Oc(18,"busquedas avanzadas"),o.Wb(),o.Xb(19,"mat-select",14),o.hc("selectionChange",function(){return t.onChangeSelectFilter()}),o.Xb(20,"mat-select-trigger",15),o.Oc(21),o.Mc(22,vi,2,2,"span",16),o.Wb(),o.Mc(23,xi,2,2,"mat-option",17),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Sb(24,"mat-divider"),o.Xb(25,"div",18),o.Mc(26,Oi,7,1,"mat-form-field",19),o.Mc(27,wi,7,1,"mat-form-field",19),o.Xb(28,"button",20),o.hc("click",function(){return t.loadData()}),o.Xb(29,"mat-icon",21),o.Oc(30,"search"),o.Wb(),o.Oc(31,"Buscar "),o.Wb(),o.Wb(),o.Sb(32,"mat-divider"),o.Xb(33,"div",22),o.Xb(34,"table",23),o.Vb(35,24),o.Mc(36,Ci,2,0,"th",25),o.Mc(37,Mi,2,1,"td",26),o.Ub(),o.Vb(38,27),o.Mc(39,Wi,2,0,"th",28),o.Mc(40,Xi,2,1,"td",26),o.Ub(),o.Vb(41,29),o.Mc(42,Di,2,0,"th",30),o.Mc(43,ki,2,1,"td",26),o.Ub(),o.Vb(44,31),o.Mc(45,yi,2,0,"th",32),o.Mc(46,Pi,10,0,"td",26),o.Ub(),o.Mc(47,Si,1,0,"tr",33),o.Mc(48,Ri,1,0,"tr",34),o.Wb(),o.Wb(),o.Sb(49,"mat-paginator",35),o.Wb(),o.Wb()),2&e&&(o.Db(1),o.qc("modal_header",t.top_bar_title)("modal_icon",t.top_bar_icon)("modal_subheader",t.top_bar_subtitle),o.Db(2),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(8),o.qc("ngModel",t.filter),o.Db(8),o.qc("formControl",t.toppings),o.Db(2),o.Qc(" ",t.toppings.value?t.toppings.value[0]:""," "),o.Db(1),o.qc("ngIf",(null==t.toppings.value?null:t.toppings.value.length)>1),o.Db(1),o.qc("ngForOf",t.toppingList),o.Db(2),o.qc("ngClass",o.uc(19,Ii,!t.filtros_row)),o.Db(1),o.qc("ngIf",t.filtro_description_view),o.Db(1),o.qc("ngIf",t.filtro_rol_name_view),o.Db(1),o.qc("disabled",!t.isSearch()),o.Db(6),o.qc("dataSource",t.dataSource),o.Db(13),o.qc("matHeaderRowDef",t.displayedColumns),o.Db(1),o.qc("matRowDefColumns",t.displayedColumns),o.Db(1),o.qc("length",t.resultsLength)("pageSize",5)("pageSizeOptions",o.tc(21,qi)))},directives:[Ue,p.m,Re.f,Re.b,Z.b,Y.c,Y.j,Y.n,Y.q,oe.a,Re.g,K.a,Y.e,K.c,p.l,pi.a,p.k,ne.a,V.j,Q.a,V.c,V.e,V.b,V.g,V.i,$.a,We.b,g.m,V.d,Q.b,V.a,se.a,V.f,V.h],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#f44336;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525}.bg-darkest[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f5f5f5}.full-container[_ngcontent-%COMP%]{padding-top:25px;padding-inline:20px}td.mat-column-actions[_ngcontent-%COMP%]{width:200px;padding-right:8px}mat-form-field[_ngcontent-%COMP%]{margin-inline:10px}.encabezados-filtros[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filtros[_ngcontent-%COMP%]{max-height:80px}mat-label[_ngcontent-%COMP%]{font-size:11px}.mat-form-field-busqueda[_ngcontent-%COMP%]{max-width:300px}.row-visibility-none[_ngcontent-%COMP%]{display:none}.font-bold[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#fff}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important;opacity:.8!important}  .mat-input-element{caret-color:#fff!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#fff}"]}),e})();function Hi(e,t,i){return(e<t?-1:1)*(i?1:-1)}function Ai(e,t){1&e&&o.Sb(0,"mat-spinner",48)}function zi(e,t){if(1&e&&(o.Xb(0,"div",49),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.message_server," ")}}function Fi(e,t){if(1&e&&(o.Xb(0,"div",45),o.Mc(1,Ai,1,0,"mat-spinner",46),o.Mc(2,zi,2,1,"div",47),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function ji(e,t){if(1&e&&(o.Xb(0,"span",50),o.Oc(1),o.Wb()),2&e){const e=o.lc();o.Db(1),o.Rc(" (+",e.toppings.value.length-1," ",2===(null==e.toppings.value?null:e.toppings.value.length)?"other":"others",") ")}}function Ei(e,t){if(1&e&&(o.Xb(0,"mat-option",51),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.qc("value",e),o.Db(1),o.Pc(e)}}function Ti(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-form-field",52),o.Xb(1,"mat-label"),o.Oc(2,"Usuario"),o.Wb(),o.Xb(3,"input",53,54),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().filtro_usuario=t}),o.Wb(),o.Xb(5,"mat-icon",10),o.Oc(6,"people"),o.Wb(),o.Wb()}if(2&e){const e=o.lc();o.Db(3),o.qc("ngModel",e.filtro_usuario)}}function Ui(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-form-field",52),o.Xb(1,"mat-label"),o.Oc(2,"Nombre del rol"),o.Wb(),o.Xb(3,"input",55,56),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().filtro_rol_name=t}),o.Wb(),o.Xb(5,"mat-icon",10),o.Oc(6,"account_box"),o.Wb(),o.Wb()}if(2&e){const e=o.lc();o.Db(3),o.qc("ngModel",e.filtro_rol_name)}}function Bi(e,t){1&e&&(o.Xb(0,"th",57),o.Oc(1,"id"),o.Wb())}function Ni(e,t){if(1&e&&(o.Xb(0,"td",58),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.id)}}function Qi(e,t){1&e&&(o.Xb(0,"th",59),o.Oc(1,"Usuario"),o.Wb())}function $i(e,t){if(1&e&&(o.Xb(0,"td",58),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.user)}}function Vi(e,t){1&e&&(o.Xb(0,"th",60),o.Oc(1,"Nombre del rol"),o.Wb())}function Yi(e,t){if(1&e&&(o.Xb(0,"td",58),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.rol_name)}}function Gi(e,t){1&e&&(o.Xb(0,"th",61),o.Oc(1,"Permiso de todo"),o.Wb())}function Ji(e,t){if(1&e&&(o.Xb(0,"td",58),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.is_all)}}function Ki(e,t){1&e&&(o.Xb(0,"th",62),o.Oc(1,"Permiso editar"),o.Wb())}function Zi(e,t){if(1&e&&(o.Xb(0,"td",58),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.is_edit)}}function eo(e,t){1&e&&(o.Xb(0,"th",63),o.Oc(1,"Permiso borrar"),o.Wb())}function to(e,t){if(1&e&&(o.Xb(0,"td",58),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.is_delete)}}function io(e,t){1&e&&(o.Xb(0,"th",64),o.Oc(1,"Permiso agregar"),o.Wb())}function oo(e,t){if(1&e&&(o.Xb(0,"td",58),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.is_create)}}function ao(e,t){1&e&&(o.Xb(0,"th",65),o.Oc(1,"Permiso leer"),o.Wb())}function no(e,t){if(1&e&&(o.Xb(0,"td",58),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.is_read)}}function ro(e,t){1&e&&(o.Xb(0,"th",66),o.Oc(1,"Acciones"),o.Wb())}function so(e,t){if(1&e){const e=o.Yb();o.Xb(0,"td",58),o.Xb(1,"button",67),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().actualizarPermisos(i)}),o.Xb(2,"mat-icon"),o.Oc(3,"edit"),o.Wb(),o.Wb(),o.Xb(4,"button",68),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().eliminarRolPemisos(i.id)}),o.Xb(5,"mat-icon"),o.Oc(6,"delete"),o.Wb(),o.Wb(),o.Wb()}}function co(e,t){1&e&&o.Sb(0,"tr",69)}function lo(e,t){1&e&&o.Sb(0,"tr",70)}const mo=function(e){return{"row-visibility-none":e}},uo=function(){return[5,7,15,20,30]};let bo=(()=>{class e{constructor(e,t){this.api=e,this.modalService=t,this.displayedColumns=["id","user","rol_name","is_all","is_edit","is_create","is_read","is_delete"],this.toppings=new Y.d,this.toppingList=["usuario","nombre de rol"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.filter="",this.filtro_usuario="",this.filtro_rol_name="",this.filtro_usuario_view=!1,this.filtro_rol_name_view=!1,this.top_bar_title="Permisos",this.top_bar_subtitle="Permisos para cada rol",this.top_bar_icon="perm_identity",this.filtros_row=!1,this.message_server=""}ngAfterViewInit(){this.loadData()}loadData(){this.api.ObtenerRolesPermisos(this.filtro_usuario,this.filtro_rol_name).subscribe(e=>{e.length>0?(this.isLoadingResults=!1,this.array_permisos=e,this.isRateLimitReached=!1,this.dataSource=new V.k(e),this.resultsLength=e.length,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort):(this.array_permisos=[],this.dataSource=new V.k([]),this.resultsLength=0,this.isRateLimitReached=!0,this.isLoadingResults=!1,this.message_server="no hay usuarios con permisos registrados")},e=>{this.isLoadingResults=!1,this.isRateLimitReached=!0,this.message_server=e.error.message})}resetPaging(){this.paginator.pageIndex=0}registerOrUpdate(e){this.loadData()}actualizarPermisos(e){var t=this.modalService.open(je);t.componentInstance.modalHeader="Permisos",t.componentInstance.modalmessage="Debe al menos modificar uno de los campos",t.componentInstance.modal_action="Editar",t.componentInstance.rol_permiso.id=e.id,t.componentInstance.rol_permiso.user=e.user,t.componentInstance.rol_permiso.rol_name=e.rol_name,t.componentInstance.rol_permiso.is_all=e.is_all,t.componentInstance.rol_permiso.is_edit=e.is_edit,t.componentInstance.rol_permiso.is_create=e.is_create,t.componentInstance.rol_permiso.is_delete=e.is_delete,t.componentInstance.rol_permiso.is_read=e.is_read,t.result.then(e=>{e&&this.loadData()})}eliminarRolPemisos(e){var t=this.modalService.open(Ne);t.componentInstance.modalHeader="RolPermisos",t.componentInstance.id=e,t.result.then(e=>{e&&this.loadData()})}filtrarTodo(){this.dataSource.filter=this.filter.trim().toLowerCase()}onChangeSelectFilter(){this.filtros_row=-1!=this.toppings.value.indexOf("usuario")||-1!=this.toppings.value.indexOf("nombre de rol"),this.filtro_usuario_view=-1!=this.toppings.value.indexOf("usuario"),this.filtro_rol_name_view=-1!=this.toppings.value.indexOf("nombre de rol")}sortData(e){const t=this.array_permisos.slice();this.sortedData=e.active&&""!==e.direction?t.sort((t,i)=>{const o="asc"===e.direction;switch(e.active){case"id":return ho(t.id,i.id,o);case"user":return ho(t.user,i.user,o);case"rol_name":return ho(t.rol_name,i.rol_name,o);default:return 0}}):t}isSearch(){return""!=this.filtro_usuario||""!=this.filtro_rol_name}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a),o.Rb(Pe.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-table-roles-permisos"]],viewQuery:function(e,t){if(1&e&&(o.Tc($.a,1),o.Tc(Q.a,1)),2&e){let e;o.Ac(e=o.ic())&&(t.paginator=e.first),o.Ac(e=o.ic())&&(t.sort=e.first)}},decls:64,vars:23,consts:[[1,"full-container","bg-dark"],[3,"modal_header","modal_icon","withAddButton","modal_subheader","emisor"],[1,"example-container","mat-elevation-z4","bg-dark"],["class","example-loading-shade",4,"ngIf"],[1,"row","bg-darkest","filtros",2,"padding-left","10px","margin-top","10px","margin-inline","0px"],[1,"encabezados-filtros"],[1,"font-bold",2,"margin-left","10px"],["appearance","outline","color","warn",1,"mat-form-field-busqueda"],["matInput","","maxlength","20","placeholder","nombre completo....","name","filtrotodo",3,"ngModel","ngModelChange"],["filterall",""],["matSuffix",""],["appearance","outline",2,"margin-top","20px"],[2,"color","white"],["multiple","",3,"formControl","selectionChange"],[2,"color","white","font-size","11px"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"row","bg-darkest","filtros",2,"padding-left","10px","padding-top","20px","margin-inline","0px",3,"ngClass"],["appearance","outline","color","warn",4,"ngIf"],["mat-raised-button","","color","warn","flex","",2,"height","40px","margin-top","10px",3,"disabled","click"],[1,"mat-18"],[1,"example-table-container"],["mat-table","","matSortActive","created","matSortDisableClear","","matSortDirection","desc","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","id"],["class","bg-darkest","mat-header-cell","","mat-sort-header","id",4,"matHeaderCellDef"],["class","bg-dark","mat-cell","",4,"matCellDef"],["matColumnDef","user"],["class","bg-darkest","mat-header-cell","","mat-sort-header","user",4,"matHeaderCellDef"],["matColumnDef","rol_name"],["class","bg-darkest","mat-header-cell","","mat-sort-header","rol_name",4,"matHeaderCellDef"],["matColumnDef","is_all"],["class","bg-darkest","mat-header-cell","","mat-sort-header","is_all",4,"matHeaderCellDef"],["matColumnDef","is_edit"],["class","bg-darkest","mat-header-cell","","mat-sort-header","is_edit",4,"matHeaderCellDef"],["matColumnDef","is_delete"],["class","bg-darkest","mat-header-cell","","mat-sort-header","is_delete",4,"matHeaderCellDef"],["matColumnDef","is_create"],["class","bg-darkest","mat-header-cell","","mat-sort-header","is_create",4,"matHeaderCellDef"],["matColumnDef","is_read"],["class","bg-darkest","mat-header-cell","","mat-sort-header","is_read",4,"matHeaderCellDef"],["matColumnDef","actions"],["class","bg-darkest","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"bg-darkest",3,"length","pageSize","pageSizeOptions"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],["color","warn"],[1,"example-rate-limit-reached"],[1,"example-additional-selection"],[3,"value"],["appearance","outline","color","warn"],["matInput","","maxlength","20","placeholder","usuario","name","filtro_usuario",3,"ngModel","ngModelChange"],["user_filter",""],["matInput","","maxlength","20","placeholder","nombre del rol","name","filtro_rol_name",3,"ngModel","ngModelChange"],["rol_name_filter",""],["mat-header-cell","","mat-sort-header","id",1,"bg-darkest"],["mat-cell","",1,"bg-dark"],["mat-header-cell","","mat-sort-header","user",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","rol_name",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","is_all",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","is_edit",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","is_delete",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","is_create",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","is_read",1,"bg-darkest"],["mat-header-cell","",1,"bg-darkest"],["type","button",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"app-top-bar",1),o.hc("emisor",function(e){return t.registerOrUpdate(e)}),o.Wb(),o.Xb(2,"div",2),o.Mc(3,Fi,3,2,"div",3),o.Xb(4,"div",4),o.Xb(5,"div",5),o.Xb(6,"mat-label",6),o.Oc(7,"Filtro: "),o.Wb(),o.Xb(8,"mat-form-field",7),o.Xb(9,"mat-label"),o.Oc(10,"Escriba el criterio de busqueda"),o.Wb(),o.Xb(11,"input",8,9),o.hc("ngModelChange",function(e){return t.filter=e})("ngModelChange",function(){return t.filtrarTodo()}),o.Wb(),o.Xb(13,"mat-icon",10),o.Oc(14,"search"),o.Wb(),o.Wb(),o.Wb(),o.Xb(15,"mat-form-field",11),o.Xb(16,"mat-label",12),o.Oc(17,"busquedas avanzadas"),o.Wb(),o.Xb(18,"mat-select",13),o.hc("selectionChange",function(){return t.onChangeSelectFilter()}),o.Xb(19,"mat-select-trigger",14),o.Oc(20),o.Mc(21,ji,2,2,"span",15),o.Wb(),o.Mc(22,Ei,2,2,"mat-option",16),o.Wb(),o.Wb(),o.Wb(),o.Sb(23,"mat-divider"),o.Xb(24,"div",17),o.Mc(25,Ti,7,1,"mat-form-field",18),o.Mc(26,Ui,7,1,"mat-form-field",18),o.Xb(27,"button",19),o.hc("click",function(){return t.loadData()}),o.Xb(28,"mat-icon",20),o.Oc(29,"search"),o.Wb(),o.Oc(30,"Buscar "),o.Wb(),o.Wb(),o.Sb(31,"mat-divider"),o.Xb(32,"div",21),o.Xb(33,"table",22),o.Vb(34,23),o.Mc(35,Bi,2,0,"th",24),o.Mc(36,Ni,2,1,"td",25),o.Ub(),o.Vb(37,26),o.Mc(38,Qi,2,0,"th",27),o.Mc(39,$i,2,1,"td",25),o.Ub(),o.Vb(40,28),o.Mc(41,Vi,2,0,"th",29),o.Mc(42,Yi,2,1,"td",25),o.Ub(),o.Vb(43,30),o.Mc(44,Gi,2,0,"th",31),o.Mc(45,Ji,2,1,"td",25),o.Ub(),o.Vb(46,32),o.Mc(47,Ki,2,0,"th",33),o.Mc(48,Zi,2,1,"td",25),o.Ub(),o.Vb(49,34),o.Mc(50,eo,2,0,"th",35),o.Mc(51,to,2,1,"td",25),o.Ub(),o.Vb(52,36),o.Mc(53,io,2,0,"th",37),o.Mc(54,oo,2,1,"td",25),o.Ub(),o.Vb(55,38),o.Mc(56,ao,2,0,"th",39),o.Mc(57,no,2,1,"td",25),o.Ub(),o.Vb(58,40),o.Mc(59,ro,2,0,"th",41),o.Mc(60,so,7,0,"td",25),o.Ub(),o.Mc(61,co,1,0,"tr",42),o.Mc(62,lo,1,0,"tr",43),o.Wb(),o.Wb(),o.Sb(63,"mat-paginator",44),o.Wb(),o.Wb()),2&e&&(o.Db(1),o.qc("modal_header",t.top_bar_title)("modal_icon",t.top_bar_icon)("withAddButton",!1)("modal_subheader",t.top_bar_subtitle),o.Db(2),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(8),o.qc("ngModel",t.filter),o.Db(7),o.qc("formControl",t.toppings),o.Db(2),o.Qc(" ",t.toppings.value?t.toppings.value[0]:""," "),o.Db(1),o.qc("ngIf",(null==t.toppings.value?null:t.toppings.value.length)>1),o.Db(1),o.qc("ngForOf",t.toppingList),o.Db(2),o.qc("ngClass",o.uc(20,mo,!t.filtros_row)),o.Db(1),o.qc("ngIf",t.filtro_usuario_view),o.Db(1),o.qc("ngIf",t.filtro_rol_name_view),o.Db(1),o.qc("disabled",!t.isSearch()),o.Db(6),o.qc("dataSource",t.dataSource),o.Db(28),o.qc("matHeaderRowDef",t.displayedColumns),o.Db(1),o.qc("matRowDefColumns",t.displayedColumns),o.Db(1),o.qc("length",t.resultsLength)("pageSize",5)("pageSizeOptions",o.tc(22,uo)))},directives:[Ue,p.m,Re.f,Re.b,Z.b,Y.c,Y.j,Y.n,Y.q,oe.a,Re.g,K.a,Y.e,K.c,p.l,pi.a,p.k,ne.a,V.j,Q.a,V.c,V.e,V.b,V.g,V.i,$.a,We.b,g.m,V.d,Q.b,V.a,V.f,V.h],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#f44336;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525}.bg-darkest[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f5f5f5}.full-container[_ngcontent-%COMP%]{padding-top:25px;padding-inline:20px}td.mat-column-actions[_ngcontent-%COMP%]{width:130px;padding-right:8px}mat-form-field[_ngcontent-%COMP%]{margin-inline:10px}.encabezados-filtros[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filtros[_ngcontent-%COMP%]{max-height:80px}mat-label[_ngcontent-%COMP%]{font-size:11px}.mat-form-field-busqueda[_ngcontent-%COMP%]{max-width:300px}.row-visibility-none[_ngcontent-%COMP%]{display:none}.font-bold[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#fff}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important;opacity:.8!important}  .mat-input-element{caret-color:#fff!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#fff}"]}),e})();function ho(e,t,i){return(e<t?-1:1)*(i?1:-1)}function po(e,t){1&e&&o.Sb(0,"mat-spinner",43)}function go(e,t){if(1&e&&(o.Xb(0,"div",44),o.Oc(1),o.Wb()),2&e){const e=o.lc(2);o.Db(1),o.Qc(" ",e.message_server," ")}}function fo(e,t){if(1&e&&(o.Xb(0,"div",40),o.Mc(1,po,1,0,"mat-spinner",41),o.Mc(2,go,2,1,"div",42),o.Wb()),2&e){const e=o.lc();o.Db(1),o.qc("ngIf",e.isLoadingResults),o.Db(1),o.qc("ngIf",e.isRateLimitReached)}}function _o(e,t){if(1&e&&(o.Xb(0,"span",45),o.Oc(1),o.Wb()),2&e){const e=o.lc();o.Db(1),o.Rc(" (+",e.toppings.value.length-1," ",2===(null==e.toppings.value?null:e.toppings.value.length)?"other":"others",") ")}}function vo(e,t){if(1&e&&(o.Xb(0,"mat-option",46),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.qc("value",e),o.Db(1),o.Pc(e)}}function xo(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-form-field",47),o.Xb(1,"mat-label"),o.Oc(2,"Usuario"),o.Wb(),o.Xb(3,"input",48,49),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().filtro_usuario=t}),o.Wb(),o.Xb(5,"mat-icon",10),o.Oc(6,"people"),o.Wb(),o.Wb()}if(2&e){const e=o.lc();o.Db(3),o.qc("ngModel",e.filtro_usuario)}}function Oo(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-form-field",47),o.Xb(1,"mat-label"),o.Oc(2,"Nombre"),o.Wb(),o.Xb(3,"input",50,51),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().filtro_nombre=t}),o.Wb(),o.Xb(5,"mat-icon",10),o.Oc(6,"text_fields"),o.Wb(),o.Wb()}if(2&e){const e=o.lc();o.Db(3),o.qc("ngModel",e.filtro_nombre)}}function wo(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-form-field",47),o.Xb(1,"mat-label"),o.Oc(2,"Fecha"),o.Wb(),o.Xb(3,"input",52),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().filtro_fecha=t}),o.Wb(),o.Sb(4,"mat-datepicker-toggle",53),o.Xb(5,"mat-datepicker",null,54),o.Xb(7,"mat-datepicker-actions"),o.Xb(8,"button",55),o.Oc(9,"Cancel"),o.Wb(),o.Xb(10,"button",56),o.Oc(11,"Apply"),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&e){const e=o.Bc(6),t=o.lc();o.Db(3),o.qc("matDatepicker",e)("ngModel",t.filtro_fecha),o.Db(1),o.qc("for",e)}}function Co(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-form-field",47),o.Xb(1,"mat-label"),o.Oc(2,"Hora"),o.Wb(),o.Xb(3,"input",57,51),o.hc("ngModelChange",function(t){return o.Fc(e),o.lc().filtro_hora=t})("ngModelChange",function(){return o.Fc(e),o.lc().filtrarByHour()}),o.Wb(),o.Xb(5,"mat-icon",10),o.Oc(6,"timer"),o.Wb(),o.Wb()}if(2&e){const e=o.lc();o.Db(3),o.qc("ngModel",e.filtro_hora)}}function Mo(e,t){1&e&&(o.Xb(0,"th",58),o.Oc(1,"id"),o.Wb())}function Wo(e,t){if(1&e&&(o.Xb(0,"td",59),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.id)}}function Xo(e,t){1&e&&(o.Xb(0,"th",60),o.Oc(1,"Usuario"),o.Wb())}function Do(e,t){if(1&e&&(o.Xb(0,"td",59),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.user)}}function ko(e,t){1&e&&(o.Xb(0,"th",61),o.Oc(1,"Nombre completo"),o.Wb())}function yo(e,t){if(1&e&&(o.Xb(0,"td",59),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.full_name)}}function Po(e,t){1&e&&(o.Xb(0,"th",62),o.Oc(1,"Fecha de registro"),o.Wb())}function So(e,t){if(1&e&&(o.Xb(0,"td",59),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.register_date)}}function Ro(e,t){1&e&&(o.Xb(0,"th",63),o.Oc(1,"Hora de registro"),o.Wb())}function Io(e,t){if(1&e&&(o.Xb(0,"td",59),o.Oc(1),o.Wb()),2&e){const e=t.$implicit;o.Db(1),o.Pc(e.register_hour)}}function qo(e,t){1&e&&(o.Xb(0,"th",64),o.Oc(1,"Acciones"),o.Wb())}function Lo(e,t){if(1&e){const e=o.Yb();o.Xb(0,"td",59),o.Xb(1,"button",65),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().actualizarUsuario(i)}),o.Xb(2,"mat-icon"),o.Oc(3,"edit"),o.Wb(),o.Wb(),o.Xb(4,"button",66),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().eliminarUser(i.id)}),o.Xb(5,"mat-icon"),o.Oc(6,"delete"),o.Wb(),o.Wb(),o.Wb()}}function Ho(e,t){1&e&&o.Sb(0,"tr",67)}function Ao(e,t){1&e&&o.Sb(0,"tr",68)}const zo=function(e){return{"row-visibility-none":e}},Fo=function(){return[5,7,15,20,30]};let jo=(()=>{class e{constructor(e,t){this.api=e,this.modalService=t,this.displayedColumns=["id","user","full_name","register_date","register_hour","actions"],this.toppings=new Y.d,this.toppingList=["usuario","nombre","fecha de registro","hora de registro"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.filter="",this.filtro_usuario="",this.filtro_nombre="",this.filtro_hora="",this.filtro_usuario_view=!1,this.filtro_nombre_view=!1,this.filtro_fecha_view=!1,this.filtro_hora_view=!1,this.top_bar_title="Usuario",this.top_bar_subtitle="usuarios registrados en la pagina",this.top_bar_icon="people",this.filtros_row=!1,this.message_server=""}ngAfterViewInit(){this.loadData()}loadData(){this.api.ObtenerUsuarios({id:1,user:this.filtro_usuario,password:this.filter,full_name:this.filtro_nombre,register_date:"",register_hour:this.filtro_hora,avatar:null}).subscribe(e=>{this.isLoadingResults=!1,this.isRateLimitReached=!1,e.length>0?(this.array_user=e,this.dataSource=new V.k(e),this.resultsLength=e.length,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort):(this.array_user=[],this.dataSource=new V.k([]),this.resultsLength=0,this.isRateLimitReached=!0,this.message_server="no hay usuarios registrados")},e=>{this.isLoadingResults=!1,this.isRateLimitReached=!0,this.message_server=e.error.message})}resetPaging(){this.paginator.pageIndex=0}registerOrUpdate(e){this.loadData()}actualizarUsuario(e){this.api.ObtenerRolesByUser(e.id).subscribe(t=>{var i=this.modalService.open(je);i.componentInstance.modalHeader="Usuario",i.componentInstance.modalmessage="Debe al menos modificar uno de los campos",i.componentInstance.modal_action="Editar",i.componentInstance.form_user.setValue({id:e.id,user:e.user,password:e.password,full_name:e.full_name,register_date:e.register_date,register_hour:e.register_hour,avatar:e.avatar,rol_usuario:t,confirm:e.password}),i.componentInstance.roles2=t,i.result.then(e=>{e&&this.loadData()})})}eliminarUser(e){var t=this.modalService.open(Ne);t.componentInstance.modalHeader="Usuario",t.componentInstance.id=e,t.result.then(e=>{e&&this.loadData()})}filtrarTodo(){this.dataSource.filter=this.filter.trim().toLowerCase()}onChangeSelectFilter(){this.filtros_row=-1!=this.toppings.value.indexOf("usuario")||-1!=this.toppings.value.indexOf("nombre")||-1!=this.toppings.value.indexOf("fecha de registro")||-1!=this.toppings.value.indexOf("hora de registro"),this.filtro_usuario_view=-1!=this.toppings.value.indexOf("usuario"),this.filtro_nombre_view=-1!=this.toppings.value.indexOf("nombre"),this.filtro_fecha_view=-1!=this.toppings.value.indexOf("fecha de registro"),this.filtro_hora_view=-1!=this.toppings.value.indexOf("hora de registro")}sortData(e){const t=this.array_user.slice();this.sortedData=e.active&&""!==e.direction?t.sort((t,i)=>{const o="asc"===e.direction;switch(e.active){case"id":return Eo(t.id,i.id,o);case"user":return Eo(t.user,i.user,o);case"full_name":return Eo(t.full_name,i.full_name,o);case"register_date":return Eo(t.register_date,i.register_date,o);case"register_hour":return Eo(t.register_hour,i.register_hour,o);default:return 0}}):t}isSearch(){return""!=this.filtro_usuario||""!=this.filtro_nombre||""!=this.filtro_hora}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(ye.a),o.Rb(Pe.b))},e.\u0275cmp=o.Lb({type:e,selectors:[["table-http-example"]],viewQuery:function(e,t){if(1&e&&(o.Tc($.a,1),o.Tc(Q.a,1)),2&e){let e;o.Ac(e=o.ic())&&(t.paginator=e.first),o.Ac(e=o.ic())&&(t.sort=e.first)}},decls:58,vars:24,consts:[[1,"full-container","bg-dark"],[3,"modal_header","modal_icon","modal_subheader","emisor"],[1,"example-container","mat-elevation-z4","bg-dark"],["class","example-loading-shade",4,"ngIf"],[1,"row","bg-darkest","filtros",2,"padding-left","10px","margin-top","10px","margin-inline","0px"],[1,"encabezados-filtros","col-md-3"],[1,"font-bold",2,"margin-left","10px"],["appearance","outline","color","warn",1,"mat-form-field-busqueda"],["matInput","","maxlength","20","placeholder","nombre completo....","name","filtrotodo",3,"ngModel","ngModelChange"],["filterall",""],["matSuffix",""],[1,"col-md-5"],["appearance","outline",2,"margin-top","20px"],[2,"color","white"],["multiple","",3,"formControl","selectionChange"],[2,"color","white","font-size","11px"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"row","bg-darkest","filtros",2,"padding-left","10px","padding-top","20px","margin-inline","0px",3,"ngClass"],["appearance","outline","color","warn",4,"ngIf"],["mat-raised-button","","color","warn","flex","",2,"height","40px","margin-top","10px",3,"disabled","click"],[1,"mat-18"],[1,"example-table-container"],["mat-table","","matSortActive","created","matSortDisableClear","","matSortDirection","desc","matSort","",1,"example-table",3,"dataSource"],["matColumnDef","id"],["class","bg-darkest","mat-header-cell","","mat-sort-header","id",4,"matHeaderCellDef"],["class","bg-dark","mat-cell","",4,"matCellDef"],["matColumnDef","user"],["class","bg-darkest","mat-header-cell","","mat-sort-header","user",4,"matHeaderCellDef"],["matColumnDef","full_name"],["class","bg-darkest","mat-header-cell","","mat-sort-header","full_name",4,"matHeaderCellDef"],["matColumnDef","register_date"],["class","bg-darkest","mat-header-cell","","mat-sort-header","register_date",4,"matHeaderCellDef"],["matColumnDef","register_hour"],["class","bg-darkest","mat-header-cell","","mat-sort-header","register_hour",4,"matHeaderCellDef"],["matColumnDef","actions"],["class","bg-darkest","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"bg-darkest",3,"length","pageSize","pageSizeOptions"],[1,"example-loading-shade"],["color","warn",4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],["color","warn"],[1,"example-rate-limit-reached"],[1,"example-additional-selection"],[3,"value"],["appearance","outline","color","warn"],["matInput","","maxlength","20","placeholder","usuario","name","filtro_usuario",3,"ngModel","ngModelChange"],["user",""],["matInput","","maxlength","20","placeholder","nombre","name","filtro_nombre",3,"ngModel","ngModelChange"],["full_name_search",""],["matInput","","name","filtro_fecha",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",2,"color","white",3,"for"],["datepicker",""],["mat-button","","matDatepickerCancel",""],["mat-raised-button","","color","primary","matDatepickerApply",""],["matInput","","maxlength","20","placeholder","hora","name","filtro_hora",3,"ngModel","ngModelChange"],["mat-header-cell","","mat-sort-header","id",1,"bg-darkest"],["mat-cell","",1,"bg-dark"],["mat-header-cell","","mat-sort-header","user",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","full_name",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","register_date",1,"bg-darkest"],["mat-header-cell","","mat-sort-header","register_hour",1,"bg-darkest"],["mat-header-cell","",1,"bg-darkest"],["type","button","matTooltip","actualizar",1,"btn","btn-outline-warning",3,"click"],["type","button","matTooltip","eliminar",1,"btn","btn-outline-danger",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"app-top-bar",1),o.hc("emisor",function(e){return t.registerOrUpdate(e)}),o.Wb(),o.Xb(2,"div",2),o.Mc(3,fo,3,2,"div",3),o.Xb(4,"div",4),o.Xb(5,"div",5),o.Xb(6,"mat-label",6),o.Oc(7,"Filtro: "),o.Wb(),o.Xb(8,"mat-form-field",7),o.Xb(9,"mat-label"),o.Oc(10,"Escriba el criterio de busqueda"),o.Wb(),o.Xb(11,"input",8,9),o.hc("ngModelChange",function(e){return t.filter=e})("ngModelChange",function(){return t.filtrarTodo()}),o.Wb(),o.Xb(13,"mat-icon",10),o.Oc(14,"search"),o.Wb(),o.Wb(),o.Wb(),o.Xb(15,"div",11),o.Xb(16,"mat-form-field",12),o.Xb(17,"mat-label",13),o.Oc(18,"busquedas avanzadas"),o.Wb(),o.Xb(19,"mat-select",14),o.hc("selectionChange",function(){return t.onChangeSelectFilter()}),o.Xb(20,"mat-select-trigger",15),o.Oc(21),o.Mc(22,_o,2,2,"span",16),o.Wb(),o.Mc(23,vo,2,2,"mat-option",17),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Sb(24,"mat-divider"),o.Xb(25,"div",18),o.Mc(26,xo,7,1,"mat-form-field",19),o.Mc(27,Oo,7,1,"mat-form-field",19),o.Mc(28,wo,12,3,"mat-form-field",19),o.Mc(29,Co,7,1,"mat-form-field",19),o.Xb(30,"button",20),o.hc("click",function(){return t.loadData()}),o.Xb(31,"mat-icon",21),o.Oc(32,"search"),o.Wb(),o.Oc(33,"Buscar "),o.Wb(),o.Wb(),o.Sb(34,"mat-divider"),o.Xb(35,"div",22),o.Xb(36,"table",23),o.Vb(37,24),o.Mc(38,Mo,2,0,"th",25),o.Mc(39,Wo,2,1,"td",26),o.Ub(),o.Vb(40,27),o.Mc(41,Xo,2,0,"th",28),o.Mc(42,Do,2,1,"td",26),o.Ub(),o.Vb(43,29),o.Mc(44,ko,2,0,"th",30),o.Mc(45,yo,2,1,"td",26),o.Ub(),o.Vb(46,31),o.Mc(47,Po,2,0,"th",32),o.Mc(48,So,2,1,"td",26),o.Ub(),o.Vb(49,33),o.Mc(50,Ro,2,0,"th",34),o.Mc(51,Io,2,1,"td",26),o.Ub(),o.Vb(52,35),o.Mc(53,qo,2,0,"th",36),o.Mc(54,Lo,7,0,"td",26),o.Ub(),o.Mc(55,Ho,1,0,"tr",37),o.Mc(56,Ao,1,0,"tr",38),o.Wb(),o.Wb(),o.Sb(57,"mat-paginator",39),o.Wb(),o.Wb()),2&e&&(o.Db(1),o.qc("modal_header",t.top_bar_title)("modal_icon",t.top_bar_icon)("modal_subheader",t.top_bar_subtitle),o.Db(2),o.qc("ngIf",t.isLoadingResults||t.isRateLimitReached),o.Db(8),o.qc("ngModel",t.filter),o.Db(8),o.qc("formControl",t.toppings),o.Db(2),o.Qc(" ",t.toppings.value?t.toppings.value[0]:""," "),o.Db(1),o.qc("ngIf",(null==t.toppings.value?null:t.toppings.value.length)>1),o.Db(1),o.qc("ngForOf",t.toppingList),o.Db(2),o.qc("ngClass",o.uc(21,zo,!t.filtros_row)),o.Db(1),o.qc("ngIf",t.filtro_usuario_view),o.Db(1),o.qc("ngIf",t.filtro_nombre_view),o.Db(1),o.qc("ngIf",t.filtro_fecha_view),o.Db(1),o.qc("ngIf",t.filtro_hora_view),o.Db(1),o.qc("disabled",!t.isSearch()),o.Db(6),o.qc("dataSource",t.dataSource),o.Db(19),o.qc("matHeaderRowDef",t.displayedColumns),o.Db(1),o.qc("matRowDefColumns",t.displayedColumns),o.Db(1),o.qc("length",t.resultsLength)("pageSize",7)("pageSizeOptions",o.tc(23,Fo)))},directives:[Ue,p.m,Re.f,Re.b,Z.b,Y.c,Y.j,Y.n,Y.q,oe.a,Re.g,K.a,Y.e,K.c,p.l,pi.a,p.k,ne.a,V.j,Q.a,V.c,V.e,V.b,V.g,V.i,$.a,We.b,g.m,Xe.e,Xe.g,Xe.a,Xe.b,Xe.d,Xe.c,V.d,Q.b,V.a,se.a,V.f,V.h],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#f44336;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525}.bg-darkest[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#f5f5f5}.full-container[_ngcontent-%COMP%]{padding-top:25px;padding-inline:20px}td.mat-column-actions[_ngcontent-%COMP%]{width:130px;padding-right:8px}mat-form-field[_ngcontent-%COMP%]{margin-inline:10px}.encabezados-filtros[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filtros[_ngcontent-%COMP%]{max-height:80px}mat-label[_ngcontent-%COMP%]{font-size:11px}.mat-form-field-busqueda[_ngcontent-%COMP%]{max-width:300px}.row-visibility-none[_ngcontent-%COMP%]{display:none}.font-bold[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#5a5a5a!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#fff}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#fff!important;opacity:.8!important}  .mat-input-element{caret-color:#fff!important}  .mat-form-field-label,   .mat-form-field.mat-focused .mat-form-field-label,   .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#fff}"]}),e})();function Eo(e,t,i){return(e<t?-1:1)*(i?1:-1)}var To=i("tyNb");function Uo(e,t){1&e&&(o.Xb(0,"mat-icon",10),o.Oc(1,"keyboard_arrow_down"),o.Wb())}function Bo(e,t){1&e&&o.Sb(0,"div",18)}function No(e,t){if(1&e){const e=o.Yb();o.Vb(0),o.Vb(1),o.Xb(2,"mat-list-item",11),o.Xb(3,"div",12),o.Xb(4,"div",13),o.Mc(5,Bo,1,0,"div",14),o.Xb(6,"mat-subheader",15),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc(2).navigateTo(i.path)}),o.Xb(7,"mat-icon",16),o.Oc(8),o.Wb(),o.Xb(9,"span",17),o.Oc(10),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Ub(),o.Ub()}if(2&e){const e=t.$implicit,i=o.lc(2);o.Db(5),o.qc("ngIf",i.active==e.path),o.Db(3),o.Pc(e.icon),o.Db(2),o.Pc(e.name)}}function Qo(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-accordion",1),o.Xb(1,"mat-expansion-panel",2),o.hc("opened",function(){return o.Fc(e),o.lc().panelOpenState=!0})("closed",function(){return o.Fc(e),o.lc().panelOpenState=!1}),o.Xb(2,"mat-expansion-panel-header",3),o.hc("click",function(){o.Fc(e);const i=t.$implicit;return o.lc().navigateTo(i.path)}),o.Xb(3,"mat-panel-title",4),o.Xb(4,"mat-icon",5),o.Oc(5),o.Wb(),o.Xb(6,"span",6),o.Oc(7),o.Wb(),o.Wb(),o.Xb(8,"mat-panel-description"),o.Mc(9,Uo,2,0,"mat-icon",7),o.Wb(),o.Wb(),o.Xb(10,"mat-nav-list",8),o.Xb(11,"div"),o.Mc(12,No,11,3,"ng-container",9),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&e){const e=t.$implicit;o.Db(1),o.qc("hidden",!e.permit),o.Db(4),o.Pc(e.icon),o.Db(2),o.Pc(e.name),o.Db(2),o.qc("ngIf",e.arrow),o.Db(3),o.qc("ngForOf",e.children)}}let $o=(()=>{class e{constructor(e,t,i){this.router=e,this.storage=t,this.api=i,this.panelOpenState=!0,this.menu=[],this.active=""}ngOnInit(){try{const e=this.storage.retrieve("usuario");this.menu=[{name:"Perfil",icon:"contact_mail",arrow:!0,permit:!0,children:[{name:"Perfil",icon:"contact_mail",path:"perfil"}]},{name:"Administracion",icon:"supervisor_account",arrow:!0,permit:1==e.is_all,children:[{name:"usuarios",icon:"person",path:"users",permit:1==e.is_all},{name:"roles",icon:"account_box",path:"roles",permit:1==e.is_all},{name:"permisos",icon:"perm_identity",path:"roles-permisos",permit:1==e.is_all},{name:"historial",icon:"event_note",path:"historial",permit:1==e.is_all}]},{name:"Documentos",icon:"books",arrow:!0,permit:1==e.is_read,children:[{name:"limitados",icon:"article",path:"documentos-limitados",permit:1==e.is_read},{name:"secretos",icon:"article",path:"documentos-secretos",permit:1==e.is_read},{name:"ordinarios personales",icon:"article",path:"documentos",permit:1==e.is_read},{name:"clasificados",icon:"article",path:"documentos",permit:1==e.is_read},{name:"ordinarios",icon:"article",path:"documentos",permit:1==e.is_read}]},{name:"Logout",icon:"exit_to_app",path:"logout",permit:!0}]}catch(e){console.log("Error",e),this.router.navigate(["/login"])}}navigateTo(e){if(console.log("click",e),null!=e&&(this.active=e),e){const t=this.storage.retrieve("usuario").id;if("logout"==e){const e=this.storage.retrieve("usuario").id;this.storage.clear(),this.router.navigate([""]),this.api.LogoutUser(e).subscribe(e=>{console.log("Logout: ",e)})}else this.api.saveAccion(t,"Entro a la sesion "+e).subscribe(t=>{this.router.navigate(["home/"+e])},t=>{console.log(t),this.router.navigate(["home/"+e])})}}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(To.d),o.Rb(Ze.c),o.Rb(ye.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-menu"]],decls:1,vars:1,consts:[["multi","",4,"ngFor","ngForOf"],["multi",""],["hideToggle","",1,"mat-elevation-z0","borde-left-warn",3,"hidden","opened","closed"],[3,"click"],["routerLinkActive","mat-icon-active",1,"menu-item"],["mat-list-icon","",1,"font-title-menu"],[1,"font-title-menu",2,"margin-left","10px"],["class","font-title-menu",4,"ngIf"],[1,"borde-left-warn",2,"margin-top","-15px","margin-bottom","-30px"],[4,"ngFor","ngForOf"],[1,"font-title-menu"],["routerLinkActive","mat-icon-active",2,"margin-left","-25px","font-size","14px","margin-top","-15px"],[1,"container"],[1,"row"],["style","background-color: #ff5722;width: 2px;",4,"ngIf"],["mat-list-item","","mat-line","",1,"menu-item",3,"click"],["mat-list-icon","",2,"margin-left","10px","font-size","15px"],[2,"margin-left","3px"],[2,"background-color","#ff5722","width","2px"]],template:function(e,t){1&e&&o.Mc(0,Qo,13,5,"mat-accordion",0),2&e&&o.qc("ngForOf",t.menu)},directives:[p.l,U,F,j,T,To.e,oe.a,ie.a,E,p.m,ie.e,ie.b,g.j],styles:[".menu-item[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;width:100%}mat-subheader[_ngcontent-%COMP%]{margin-left:5px}.mat-list-item[_ngcontent-%COMP%], mat-list-item[_ngcontent-%COMP%]{color:#b8b8b8}.font-title-menu[_ngcontent-%COMP%]:hover, .mat-expansion-panel-header[_ngcontent-%COMP%]:hover, .mat-list-item[_ngcontent-%COMP%]:hover, mat-expansion-panel-header[_ngcontent-%COMP%]:hover, mat-list-item[_ngcontent-%COMP%]:hover, mat-panel-title[_ngcontent-%COMP%]:hover{color:#ff5722}.mat-accordion[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%], mat-accordion[_ngcontent-%COMP%], mat-expansion-panel[_ngcontent-%COMP%]{background-color:#252525}.font-title-menu[_ngcontent-%COMP%], mat-panel-title[_ngcontent-%COMP%]{color:#fff;font-size:15px}.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{transform:rotate(180deg);transition-duration:.5s}.mat-expansion-panel-header-description[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{transition-duration:.5s}.borde-left-warn[_ngcontent-%COMP%]{border-color:#d2691e;border-left:10px}"]}),e})();var Vo=i("lJxs"),Yo=i("UXun");let Go=(()=>{class e{constructor(e,t,i,o){this.breakpointObserver=e,this.storage=t,this.api=i,this.router=o,this.id_usuario=-1,this.user="",this.rol="",this.nombre="",this.loadingAvatar=!1,this.isHandset$=this.breakpointObserver.observe(De.b.Handset).pipe(Object(Vo.a)(e=>e.matches),Object(Yo.a)())}ngOnInit(){try{var e=this.storage.retrieve("usuario");this.id_usuario=e.id,this.user=e.user,this.nombre=e.full_name,this.rol=e.rol_name,this.api.getAvatarUser(this.id_usuario).subscribe(e=>{this.src_avatar=e},e=>{this.src_avatar=e.url})}catch(t){this.router.navigate(["/login"])}}ngAfterViewInit(){setTimeout(()=>{this.finishLoading()},1500)}finishLoading(){this.loadingAvatar=!0}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(De.a),o.Rb(Ze.c),o.Rb(ye.a),o.Rb(To.d))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-sidenav-home"]],decls:37,vars:14,consts:[[1,"sidenav-content","bg-darkest"],["fixedInViewport","","mode","side",1,"sidenav","bg-darkest",2,"margin-top","32px",3,"opened"],["drawer",""],[1,"deep-orange"],[1,"example-loading-shade","rounded-circle",3,"hidden"],["color","warn",1,"rounded-circle","loading",3,"hidden","diameter"],[1,"rounded-circle",2,"width","50px","height","50px","margin-right","10px","padding","0.1px","background-color","white",3,"hidden","src","matTooltip"],[2,"display","block"],[2,"font-size","15px"],[2,"font-size","10px"],[2,"position","absolute","right","0","left","0","bottom","0","margin","5px","font-size","smaller","display","flex","flex-direction","column","text-decoration","none"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,t){if(1&e){const e=o.Yb();o.Xb(0,"mat-sidenav-container",0),o.Xb(1,"mat-sidenav",1,2),o.mc(3,"async"),o.mc(4,"async"),o.Xb(5,"mat-toolbar",3),o.Xb(6,"div",4),o.Sb(7,"mat-spinner",5),o.Wb(),o.Sb(8,"img",6),o.Xb(9,"div",7),o.Xb(10,"section",8),o.Oc(11),o.Wb(),o.Xb(12,"section",9),o.Oc(13),o.Wb(),o.Wb(),o.Wb(),o.Xb(14,"mat-nav-list"),o.Sb(15,"app-menu"),o.Xb(16,"ul",10),o.Xb(17,"li"),o.Xb(18,"strong"),o.Oc(19,"Copyright \xa9 2021 Kuroko "),o.Wb(),o.Wb(),o.Xb(20,"li"),o.Xb(21,"strong"),o.Oc(22,"version 1.0.0 "),o.Wb(),o.Wb(),o.Xb(23,"li"),o.Xb(24,"strong"),o.Oc(25,"fecha 05/10/2021 "),o.Wb(),o.Wb(),o.Xb(26,"li"),o.Xb(27,"strong"),o.Oc(28,"hora 10:52 AM "),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(29,"mat-sidenav-content"),o.Xb(30,"mat-toolbar",3),o.Xb(31,"button",11),o.hc("click",function(){return o.Fc(e),o.Bc(2).toggle()}),o.Xb(32,"mat-icon",12),o.Oc(33,"menu"),o.Wb(),o.Wb(),o.Xb(34,"span"),o.Oc(35,"Sistema"),o.Wb(),o.Wb(),o.Sb(36,"router-outlet"),o.Wb(),o.Wb()}2&e&&(o.Db(1),o.qc("opened",!1===o.nc(4,12,t.isHandset$)),o.Eb("role",o.nc(3,10,t.isHandset$)?"dialog":"navigation"),o.Db(5),o.qc("hidden",t.loadingAvatar),o.Db(1),o.qc("hidden",t.loadingAvatar)("diameter",50),o.Db(1),o.rc("src",t.src_avatar,o.Hc),o.rc("matTooltip",t.nombre),o.qc("hidden",!t.loadingAvatar),o.Db(3),o.Pc(t.user),o.Db(2),o.Pc(t.rol))},directives:[ae.b,ae.a,ce.a,We.b,se.a,ie.e,$o,ae.c,ne.a,oe.a,To.h],pipes:[p.b],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:220px;box-shadow:0 0 0 5 rgba(0,0,0,.16),0 0 0 5px rgba(0,0,0,.08)}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:absolute;background-color:#4a4abe;top:0;z-index:1}.bg-darkest[_ngcontent-%COMP%]{background-color:#252525;color:#f5f5f5}span[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}mat-toolbar[_ngcontent-%COMP%]{color:#d4d4d4}.deep-orange[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}mat-sidenav-container-container[_ngcontent-%COMP%]{height:200px}.login-icon-toolbar[_ngcontent-%COMP%]{flex:1 1 auto}.example-header-image[_ngcontent-%COMP%]{margin-right:10px;background-size:cover}.loading[_ngcontent-%COMP%]{position:absolute;top:0;margin-top:7px}.example-loading-shade[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{width:50px;height:50px;padding:.1px}.example-loading-shade[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center}"]}),e})();const Jo=[{path:"",component:(()=>{class e{constructor(e,t){this.storage=e,this.router=t;try{this.storage.retrieve("usuario")}catch(i){this.router.navigate(["/login"])}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(Ze.a),o.Rb(To.d))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-home"]],decls:1,vars:0,template:function(e,t){1&e&&o.Sb(0,"app-sidenav-home")},directives:[Go],styles:[""]}),e})(),children:[{path:"menu",component:$o},{path:"top",component:Ue},{path:"users",component:jo},{path:"roles",component:Li},{path:"roles-permisos",component:bo},{path:"documentos",component:si},{path:"documentos-limitados",component:hi},{path:"documentos-secretos",component:Ke},{path:"perfil",component:ft},{path:"historial",component:Yt}]}];let Ko=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({imports:[[To.g.forChild(Jo)],To.g]}),e})(),Zo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({imports:[[p.c,Y.i,Ko,De.c,ce.b,ne.b,ae.d,oe.b,ie.c,te.a,ee.a,Z.c,K.b,J.c,G.g,Y.t,V.l,$.b,Q.c,Xe.f,g.l,N,Me,se.b,We.a,ke.a.forRoot({}),re.c]]}),e})()}}]);